# é¡µé¢åŠ è½½çš„æ—¶å€™å‘ç°é¡µé¢ç©ºç™½

## é¡µé¢ç©ºç™½é—®é¢˜æ’æŸ¥æŒ‡å—

### 1. JavaScript å¼‚å¸¸

**è§£å†³æ–¹æ¡ˆ**ï¼š
```javascript
// 1. æ·»åŠ é”™è¯¯è¾¹ç•Œï¼ˆVue 2.5+ï¼‰
Vue.config.errorHandler = (err, vm, info) => {
  console.error('Vueé”™è¯¯:', err)
  // æ˜¾ç¤ºå‹å¥½é”™è¯¯é¡µé¢
  showErrorPage()
}

// 2. ä½¿ç”¨ try-catch åŒ…è£…å¯ç–‘ä»£ç 
try {
  riskyOperation()
} catch (error) {
  console.error('æ“ä½œå¤±è´¥:', error)
  fallbackOperation()
}

```

### 2. å®¢æˆ·ç«¯è¯·æ±‚å¼‚å¸¸

**è·¯ç”±é…ç½®é—®é¢˜**

**API è¯·æ±‚å¼‚å¸¸å¤„ç†**ï¼šå“åº”æ‹¦æˆªå™¨ - ç»Ÿä¸€é”™è¯¯å¤„ç†

### 3. æœåŠ¡å™¨å¼‚å¸¸ (502/504)

**é—®é¢˜æ’æŸ¥**ï¼š
```bash
# 1. æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
curl -I https://your-domain.com

# 2. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§
ping your-domain.com
traceroute your-domain.com

# 3. æ£€æŸ¥DNSè§£æ
nslookup your-domain.com
dig your-domain.com
```
## ç³»ç»ŸåŒ–è§£å†³æ–¹æ¡ˆ

### 1. å®Œæ•´çš„é”™è¯¯ç›‘æ§
```javascript
// utils/monitor.js
class PageMonitor {
  static init() {
    // ç›‘å¬JSé”™è¯¯
    window.addEventListener('error', (event) => {
      this.reportError({
        type: 'JS_ERROR',
        message: event.message,
        filename: event.filename,
        lineno: event.lineno,
        colno: event.colno
      })
    })
    
    // ç›‘å¬Promise rejection
    window.addEventListener('unhandledrejection', (event) => {
      this.reportError({
        type: 'PROMISE_REJECTION',
        reason: event.reason
      })
    })
    
    // ç›‘å¬èµ„æºåŠ è½½å¤±è´¥
    window.addEventListener('error', (event) => {
      if (event.target && event.target.src) {
        this.reportError({
          type: 'RESOURCE_ERROR',
          resource: event.target.src,
          tagName: event.target.tagName
        })
      }
    }, true)
  }
  
  static reportError(errorInfo) {
    // å‘é€åˆ°ç›‘æ§å¹³å°
    console.error('ç›‘æ§åˆ°é”™è¯¯:', errorInfo)
    
    // æ˜¾ç¤ºå‹å¥½é”™è¯¯é¡µé¢
    if (this.isCriticalError(errorInfo)) {
      this.showErrorPage()
    }
  }
  
  static showErrorPage() {
    // åŠ¨æ€åˆ›å»ºé”™è¯¯é¡µé¢
    const errorHTML = `
      <div style="text-align: center; padding: 50px;">
        <h1>ğŸ˜… é¡µé¢åŠ è½½é‡åˆ°é—®é¢˜</h1>
        <p>è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–åˆ·æ–°é¡µé¢é‡è¯•</p>
        <button onclick="window.location.reload()">åˆ·æ–°é¡µé¢</button>
      </div>
    `
    document.body.innerHTML = errorHTML
  }
}

// åˆå§‹åŒ–ç›‘æ§
PageMonitor.init()
```