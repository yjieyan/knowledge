<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.95" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Taro åŸç†","image":["https://s.poetries.top/gitee/2020/09/92.png","https://s.poetries.top/gitee/2020/09/239.png","https://s.poetries.top/gitee/2020/09/240.png","https://s.poetries.top/gitee/2020/09/241.png","https://s.poetries.top/gitee/2020/09/242.png","https://s.poetries.top/gitee/2020/09/243.png","https://s.poetries.top/gitee/2020/09/244.png","https://s.poetries.top/gitee/2020/09/245.png","https://s.poetries.top/gitee/2020/09/245.png","https://s.poetries.top/gitee/2020/09/246.png","https://s.poetries.top/gitee/2020/09/247.png","https://s.poetries.top/gitee/2020/09/248.png","https://s.poetries.top/gitee/2020/09/248.png","https://s.poetries.top/gitee/2020/09/250.png","https://s.poetries.top/gitee/2020/09/251.png","https://s.poetries.top/gitee/2020/09/252.png","https://s.poetries.top/gitee/2020/09/253.png","https://s.poetries.top/gitee/2020/09/254.png","https://s.poetries.top/gitee/2020/09/255.png","https://s.poetries.top/gitee/2020/09/256.png","https://s.poetries.top/gitee/2020/09/257.png","https://s.poetries.top/gitee/2020/09/258.png"],"dateModified":"2025-10-19T15:34:32.000Z","author":[{"@type":"Person","name":"yjieyan","url":"https://yjieyan.github.io/knowledge"}]}</script><meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/knowledge/guide/%E8%B7%A8%E7%AB%AF%E4%B8%8E%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E8%B7%A8%E7%AB%AF/Taro%E5%8E%9F%E7%90%86.html"><meta property="og:site_name" content="å­¦ä¹ ä¸åˆ†äº«"><meta property="og:title" content="Taro åŸç†"><meta property="og:description" content="Taro åŸç† ä¸€ã€Taro çš„å®‰è£…ä¸ä½¿ç”¨ 1.1 å®‰è£… 1.2 ä½¿ç”¨ ä½¿ç”¨å‘½ä»¤åˆ›å»ºæ¨¡æ¿é¡¹ç›® 1.2.1 å¾®ä¿¡å°ç¨‹åº é€‰æ‹©å¾®ä¿¡å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œç„¶åé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•è¿›è¡Œé¢„è§ˆ å¾®ä¿¡å°ç¨‹åºç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ… 1.2.2 ç™¾åº¦å°ç¨‹åº é€‰æ‹©ç™¾åº¦å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶æ‰“å¼€ç™¾åº¦å¼€å‘è€…å·¥å…·ï¼Œç„¶ååœ¨é¡¹ç›®ç¼–è¯‘å®Œåé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹ dist ç›®å½•..."><meta property="og:type" content="article"><meta property="og:image" content="https://s.poetries.top/gitee/2020/09/92.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-10-19T15:34:32.000Z"><meta property="article:modified_time" content="2025-10-19T15:34:32.000Z"><link rel="icon" href="/knowledge/favicon.ico"><title>Taro åŸç† | å­¦ä¹ ä¸åˆ†äº«</title><meta name="description" content="Taro åŸç† ä¸€ã€Taro çš„å®‰è£…ä¸ä½¿ç”¨ 1.1 å®‰è£… 1.2 ä½¿ç”¨ ä½¿ç”¨å‘½ä»¤åˆ›å»ºæ¨¡æ¿é¡¹ç›® 1.2.1 å¾®ä¿¡å°ç¨‹åº é€‰æ‹©å¾®ä¿¡å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œç„¶åé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•è¿›è¡Œé¢„è§ˆ å¾®ä¿¡å°ç¨‹åºç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ… 1.2.2 ç™¾åº¦å°ç¨‹åº é€‰æ‹©ç™¾åº¦å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶æ‰“å¼€ç™¾åº¦å¼€å‘è€…å·¥å…·ï¼Œç„¶ååœ¨é¡¹ç›®ç¼–è¯‘å®Œåé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹ dist ç›®å½•...">
    <link rel="preload" href="/knowledge/assets/style-Bpigp8m5.css" as="style"><link rel="stylesheet" href="/knowledge/assets/style-Bpigp8m5.css">
    <link rel="modulepreload" href="/knowledge/assets/app-B8OghdsB.js"><link rel="modulepreload" href="/knowledge/assets/TaroåŸç†.html-HQ0sExpD.js"><link rel="modulepreload" href="/knowledge/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/knowledge/assets/index.html-OG6_B4fR.js" as="script"><link rel="prefetch" href="/knowledge/assets/portfolio.html-v_HtF1ne.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-BjsoaQ9j.js" as="script"><link rel="prefetch" href="/knowledge/assets/disable.html-B_iYb3nu.js" as="script"><link rel="prefetch" href="/knowledge/assets/encrypt.html-XvVS4-9M.js" as="script"><link rel="prefetch" href="/knowledge/assets/layout.html-CTUB2YGE.js" as="script"><link rel="prefetch" href="/knowledge/assets/markdown.html-BEOtxPmz.js" as="script"><link rel="prefetch" href="/knowledge/assets/page.html-D9nLrPPp.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-D_OHJUQb.js" as="script"><link rel="prefetch" href="/knowledge/assets/æµ‹è¯•.html-CB89ckhX.js" as="script"><link rel="prefetch" href="/knowledge/assets/HttpOnly-Cookie.html-ByWSptD1.js" as="script"><link rel="prefetch" href="/knowledge/assets/åˆ†å¸ƒå¼ _ é«˜å¹¶å‘.html-BvCOMZA8.js" as="script"><link rel="prefetch" href="/knowledge/assets/å‰ç«¯JWT.html-CKeK8p2d.js" as="script"><link rel="prefetch" href="/knowledge/assets/å®‰å…¨.html-CtD6YScY.js" as="script"><link rel="prefetch" href="/knowledge/assets/æ•°æ®åº“.html-BtQcO-WK.js" as="script"><link rel="prefetch" href="/knowledge/assets/æ•°æ®ç»“æ„ä¸ç®—æ³•.html-fOfEyl2R.js" as="script"><link rel="prefetch" href="/knowledge/assets/ç¼–è¯‘åŸç†.html-DSaIqHuM.js" as="script"><link rel="prefetch" href="/knowledge/assets/è®¡ç®—æœºç»„æˆåŸç†.html-DeBI8B25.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-CnZmYY8M.js" as="script"><link rel="prefetch" href="/knowledge/assets/BabelAst.html-DC-RvxeZ.js" as="script"><link rel="prefetch" href="/knowledge/assets/BabelåŸç†.html-AO3EyL-R.js" as="script"><link rel="prefetch" href="/knowledge/assets/Babelæ’ä»¶.html-BvBgZvhR.js" as="script"><link rel="prefetch" href="/knowledge/assets/Babelç¼–è¯‘ä¸ºä½ç‰ˆæœ¬ESæ—¶_ä¸ºä»€ä¹ˆèƒ½ç¼–è¯‘è¯­æ³•ä½†æ— æ³•ç¼–è¯‘API.html-kKQ2FvOp.js" as="script"><link rel="prefetch" href="/knowledge/assets/Babelè‡ªä¸»ç¼–å†™ä¸€ä¸ªBabelæ’ä»¶.html-DXPl78zo.js" as="script"><link rel="prefetch" href="/knowledge/assets/Babelè½¬æ¢è§„åˆ™.html-SepCsmZo.js" as="script"><link rel="prefetch" href="/knowledge/assets/Babelé…ç½®æ–‡ä»¶.html-HE66cFDU.js" as="script"><link rel="prefetch" href="/knowledge/assets/Babelé¢„è®¾.html-Doge__8U.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-CxO4eQpF.js" as="script"><link rel="prefetch" href="/knowledge/assets/ReactåŸºç¡€.html-DPsnF1Rc.js" as="script"><link rel="prefetch" href="/knowledge/assets/Reactæºç è§£æ.html-jGsaX40t.js" as="script"><link rel="prefetch" href="/knowledge/assets/Reactç”Ÿå‘½å‘¨æœŸ.html-D3uir5z3.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vue2VsVue3.html-B1eb7Lqq.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vue2å“åº”å¼åŸç†.html-CzB4Xhln.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vue2æºç è§£æ.html-DcKtIgik.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vue3å“åº”å¼åŸç†.html-C8LoOfK5.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vue3åŸºç¡€.html-C35_BkVT.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vue3æºç åˆ†æ.html-Xp-46h5T.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vue3ç»„åˆå¼APIæœ€ä½³å®è·µ.html-BnPs7uRB.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vue3è®¾è®¡å®ç°ä¸€ä¸ªå¼¹çª—ç»„ä»¶.html-D7hQX-jB.js" as="script"><link rel="prefetch" href="/knowledge/assets/VueCliåŸç†åˆ†æ.html-C3Oidn--.js" as="script"><link rel="prefetch" href="/knowledge/assets/VueDiffåŸç†.html-DoSTweE2.js" as="script"><link rel="prefetch" href="/knowledge/assets/VueSSRåŸç†åˆ†æ.html-DD0CKq3E.js" as="script"><link rel="prefetch" href="/knowledge/assets/VueVsReact.html-d-YIJ8KQ.js" as="script"><link rel="prefetch" href="/knowledge/assets/VueåŒå‘ç»‘å®š.html-CMfbIXkB.js" as="script"><link rel="prefetch" href="/knowledge/assets/Vueç”Ÿå‘½å‘¨æœŸ.html-BFFzv7K6.js" as="script"><link rel="prefetch" href="/knowledge/assets/Webpackå’ŒRollupå¦‚ä½•é€‰æ‹©.html-CFdr2Yvp.js" as="script"><link rel="prefetch" href="/knowledge/assets/WebpackåŸºç¡€.html-C4mnF5q2.js" as="script"><link rel="prefetch" href="/knowledge/assets/Webpackæ’ä»¶_åŠ è½½å™¨æœºåˆ¶.html-PT7r31c8.js" as="script"><link rel="prefetch" href="/knowledge/assets/Webpackæ„å»ºæµç¨‹.html-Hz2o_3my.js" as="script"><link rel="prefetch" href="/knowledge/assets/Webpackçƒ­æ›´æ–°.html-0bDgKJDm.js" as="script"><link rel="prefetch" href="/knowledge/assets/Webpackçš„TreeShaking.html-CxMmOo7g.js" as="script"><link rel="prefetch" href="/knowledge/assets/Webpackçš„tapable.html-9BLImiiw.js" as="script"><link rel="prefetch" href="/knowledge/assets/vueRouteråŸç†åˆ†æ.html-DBnbWalR.js" as="script"><link rel="prefetch" href="/knowledge/assets/vuexåŸç†åˆ†æ.html-CEntkSwM.js" as="script"><link rel="prefetch" href="/knowledge/assets/ä¼˜åŒ–Webpackæ‰“åŒ…ä½“ç§¯_æ•ˆç‡.html-CANaBVsS.js" as="script"><link rel="prefetch" href="/knowledge/assets/å­¦Reactçš„è®¾è®¡æ¨¡å¼.html-Czbjizgg.js" as="script"><link rel="prefetch" href="/knowledge/assets/å®ç°ä¸€ä¸ªç®€å•çš„è„šæ‰‹æ¶.html-DUgJjbGR.js" as="script"><link rel="prefetch" href="/knowledge/assets/æ‰‹å†™webpackæ’ä»¶.html-tAHPjGB5.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-Bvz9_4LI.js" as="script"><link rel="prefetch" href="/knowledge/assets/ä¸ªäººæˆé•¿è·¯å¾„.html-C28_qcdi.js" as="script"><link rel="prefetch" href="/knowledge/assets/å›¢é˜Ÿåä½œ.html-BJM7GeiD.js" as="script"><link rel="prefetch" href="/knowledge/assets/å­¦ä¹ æ–¹æ³•è®º.html-CohI2HQN.js" as="script"><link rel="prefetch" href="/knowledge/assets/æŠ€æœ¯å†³ç­–çš„æ€è€ƒ.html-HjstXvC3.js" as="script"><link rel="prefetch" href="/knowledge/assets/å®ç°ä¸€ä¸ªMDç¼–è¾‘å™¨.html-BLcQXiDG.js" as="script"><link rel="prefetch" href="/knowledge/assets/è®¾è®¡ä¸€ä¸ªå…·å¤‡ç”¨æˆ·è§’è‰²ç®¡ç†åŠŸèƒ½çš„å‰ç«¯åº”ç”¨.html-BuicXEcY.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-uPkPQZcX.js" as="script"><link rel="prefetch" href="/knowledge/assets/DNS-routemap.html-BUFfRngR.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-xZkUQfCG.js" as="script"><link rel="prefetch" href="/knowledge/assets/è¿›ç¨‹vsçº¿ç¨‹vsåç¨‹.html-DoFZIzIr.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html--GfcOqWO.js" as="script"><link rel="prefetch" href="/knowledge/assets/è¿›ç¨‹vsçº¿ç¨‹vsåç¨‹.html-uMWmMmv2.js" as="script"><link rel="prefetch" href="/knowledge/assets/ChromeNetworké¢æ¿.html-DezmFjSv.js" as="script"><link rel="prefetch" href="/knowledge/assets/HTTPå’ŒHTTPS.html-B4d8Nrjx.js" as="script"><link rel="prefetch" href="/knowledge/assets/HTTPçŠ¶æ€ç åŠå…¶å«ä¹‰.html-DTw-KZdp.js" as="script"><link rel="prefetch" href="/knowledge/assets/HTTPç¼“å­˜æœºåˆ¶.html-DzpUvXVU.js" as="script"><link rel="prefetch" href="/knowledge/assets/HTTPç¼“å­˜ç­–ç•¥.html-YufJq5zz.js" as="script"><link rel="prefetch" href="/knowledge/assets/Httpç½‘ç»œåè®®.html-CnP_E4Qj.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-BTagv77f.js" as="script"><link rel="prefetch" href="/knowledge/assets/TCPä¸‰æ¬¡æ¡æ‰‹.html-mH0h-jSB.js" as="script"><link rel="prefetch" href="/knowledge/assets/TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹.html-B9GyMUE_.js" as="script"><link rel="prefetch" href="/knowledge/assets/Websocket.html-D9MxKtbB.js" as="script"><link rel="prefetch" href="/knowledge/assets/curl-H-wiresharkè¿‡æ»¤tcp.port__443.html-DPDPvNLt.js" as="script"><link rel="prefetch" href="/knowledge/assets/ä»HTTPè¿ç§»åˆ°HTTPS.html-yBGv5Xjr.js" as="script"><link rel="prefetch" href="/knowledge/assets/ä»åœ°å€æ å›è½¦åˆ°é¡µé¢æ¸²æŸ“.html-C7GVLBle.js" as="script"><link rel="prefetch" href="/knowledge/assets/åœ¨çº¿æŠ¥æ–‡è§£æ.html-DhUqhpVi.js" as="script"><link rel="prefetch" href="/knowledge/assets/åŸŸååˆ†ç‰‡CDNè°ƒåº¦.html-kiTl7mtM.js" as="script"><link rel="prefetch" href="/knowledge/assets/å¸¦å®½vså»¶è¿Ÿ.html-ClE6Rcvt.js" as="script"><link rel="prefetch" href="/knowledge/assets/æŒ‡æ•°é€€é¿ç®—æ³•çš„é‡è¯•æœºåˆ¶.html-DMqRwvRI.js" as="script"><link rel="prefetch" href="/knowledge/assets/æµé‡æ§åˆ¶vsæ‹¥å¡æ§åˆ¶.html-CWsF8eY3.js" as="script"><link rel="prefetch" href="/knowledge/assets/èµ„æºä¼˜å…ˆçº§.html-CktOHqZK.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DfZUPWvh.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-QODacYue.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DTInUUxM.js" as="script"><link rel="prefetch" href="/knowledge/assets/å¾®å‰ç«¯åŸºç¡€.html-C_3HhFOa.js" as="script"><link rel="prefetch" href="/knowledge/assets/ESModule_CommonJS_UMD å·®å¼‚ä¸äº’è½¬.html-cfk_1x6A.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-B9ighPbu.js" as="script"><link rel="prefetch" href="/knowledge/assets/ViteåŸºäºESM_Rollupçš„ä¾èµ–é¢„æ„å»º.html-DfE0jzjv.js" as="script"><link rel="prefetch" href="/knowledge/assets/Webpackæ ¸å¿ƒåŸç†ï¼ˆtapableã€loaderã€pluginï¼‰.html-nnwstnVM.js" as="script"><link rel="prefetch" href="/knowledge/assets/å•å…ƒæµ‹è¯•ï¼ˆJest_Vitestï¼‰.html-zc06fdba.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-C3CLgV_b.js" as="script"><link rel="prefetch" href="/knowledge/assets/ä»0åˆ°1æ­å»ºä¼ä¸šçº§åšå®¢ç³»ç»Ÿ.html-Dp4dVvlD.js" as="script"><link rel="prefetch" href="/knowledge/assets/ä»¿Jiraä»»åŠ¡ç®¡ç†ç³»ç»Ÿ.html-Cqnq9_bU.js" as="script"><link rel="prefetch" href="/knowledge/assets/å…¨æ ˆæ€§èƒ½ä¼˜åŒ–å®æˆ˜.html-CNg0L4IH.js" as="script"><link rel="prefetch" href="/knowledge/assets/å•ç‚¹ç™»å½•.html-kjRS4YQM.js" as="script"><link rel="prefetch" href="/knowledge/assets/å¤§æ–‡ä»¶æ–­ç‚¹ç»­ä¼ .html-Daa9zLdc.js" as="script"><link rel="prefetch" href="/knowledge/assets/å®ç°æ‰«ç ç™»å½•.html-BaLp2WQ1.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-Ge0n1una.js" as="script"><link rel="prefetch" href="/knowledge/assets/ES6æ–°ç‰¹æ€§.html-OH8aIliX.js" as="script"><link rel="prefetch" href="/knowledge/assets/Jså¼•æ“å¦‚ä½•æ‰§è¡Œjs.html-DL5pgKPk.js" as="script"><link rel="prefetch" href="/knowledge/assets/Jsç»§æ‰¿.html-BTdMfd6R.js" as="script"><link rel="prefetch" href="/knowledge/assets/Promiseå¼‚æ­¥.html-CIgAeq-B.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-BO7zwLVt.js" as="script"><link rel="prefetch" href="/knowledge/assets/URI.html-2pzzsbn9.js" as="script"><link rel="prefetch" href="/knowledge/assets/WebWorker.html-CPSF-pY8.js" as="script"><link rel="prefetch" href="/knowledge/assets/bind_call_apply.html-yYE1OBUw.js" as="script"><link rel="prefetch" href="/knowledge/assets/äº‹ä»¶å§”æ‰˜.html-Dfg5NRYT.js" as="script"><link rel="prefetch" href="/knowledge/assets/äº‹ä»¶å¾ªç¯.html-CFrtlmd3.js" as="script"><link rel="prefetch" href="/knowledge/assets/ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾.html-BjL1fT7j.js" as="script"><link rel="prefetch" href="/knowledge/assets/ä½œç”¨åŸŸä¸é—­åŒ….html-DaZOklP3.js" as="script"><link rel="prefetch" href="/knowledge/assets/å†…å­˜ç®¡ç†ä¸åƒåœ¾å›æ”¶.html-aqrW-P0e.js" as="script"><link rel="prefetch" href="/knowledge/assets/å†…å»ºå‡½æ•°.html-DIev8Xbn.js" as="script"><link rel="prefetch" href="/knowledge/assets/åŸå‹ä¸åŸå‹é“¾.html-BrsFdKeo.js" as="script"><link rel="prefetch" href="/knowledge/assets/æ•°æ®ç±»å‹æ£€æµ‹.html-trUQ0XNW.js" as="script"><link rel="prefetch" href="/knowledge/assets/æŸ¯é‡ŒåŒ–å‡½æ•°.html-XNaY9ciH.js" as="script"><link rel="prefetch" href="/knowledge/assets/æ·±æ‹·è´ä¸æµ…æ‹·è´.html-B__Pd-tW.js" as="script"><link rel="prefetch" href="/knowledge/assets/è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨.html-Bo-GpImu.js" as="script"><link rel="prefetch" href="/knowledge/assets/é”™è¯¯å¤„ç†.html-_7Rwc6bm.js" as="script"><link rel="prefetch" href="/knowledge/assets/é˜²æŠ–ä¸èŠ‚æµ.html-BX1yM4KA.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-B68fVsaV.js" as="script"><link rel="prefetch" href="/knowledge/assets/TsåŸºç¡€.html-Bp5-p0xl.js" as="script"><link rel="prefetch" href="/knowledge/assets/Tsæ¥å£vsç±»å‹åˆ«å.html-CyefeOFM.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DUUi2zK9.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-h1ncDXLx.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-Pe6uKFOb.js" as="script"><link rel="prefetch" href="/knowledge/assets/æµè§ˆå™¨åŸç†.html-BAnMC5tR.js" as="script"><link rel="prefetch" href="/knowledge/assets/ç”¨æˆ·ä»è¾“å…¥ç½‘å€åˆ°ç½‘é¡µæ˜¾ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ.html-BAyXWyXW.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DvWPJ7Fw.js" as="script"><link rel="prefetch" href="/knowledge/assets/V8çš„åƒåœ¾å›æ”¶æœºåˆ¶.html-Du1GKcxU.js" as="script"><link rel="prefetch" href="/knowledge/assets/npmæ¨¡å—å®‰è£…æœºåˆ¶.html-C6_0rz4q.js" as="script"><link rel="prefetch" href="/knowledge/assets/package.jsonç‰ˆæœ¬å·è§„åˆ™.html-CX7HtfYS.js" as="script"><link rel="prefetch" href="/knowledge/assets/æµè§ˆå™¨å’Œnodejsäº‹ä»¶å¾ªç¯çš„åŒºåˆ«.html-zgZEtoLa.js" as="script"><link rel="prefetch" href="/knowledge/assets/å¼€å‘å°ç¨‹åºçš„å‡ ç§æ–¹å¼.html-D8akTXas.js" as="script"><link rel="prefetch" href="/knowledge/assets/404.html-BAh3FeZ4.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DduvLJEy.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DaGcS6g8.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-CpqFG7LQ.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-BZOjWIzX.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DHf8blEj.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-B_UjtXal.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-qlBCp_D9.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DN6fR56D.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-DHoPegRy.js" as="script"><link rel="prefetch" href="/knowledge/assets/index.html-CQUldg64.js" as="script"><link rel="prefetch" href="/knowledge/assets/photoswipe.esm-CKV1Bsxh.js" as="script"><link rel="prefetch" href="/knowledge/assets/giscus-BACEvYzX.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only"></a><!--]--><div class="theme-container no-sidebar external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/knowledge/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/knowledge/logo.png" alt><!----><span class="vp-site-name hide-in-pad">å­¦ä¹ ä¸åˆ†äº«</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/knowledge/" aria-label="é¦–é¡µ"><!---->é¦–é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æµè§ˆå™¨&amp;æœåŠ¡å™¨"><!--[--><!---->æµè§ˆå™¨&amp;æœåŠ¡å™¨<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">æµè§ˆå™¨</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/%E6%B5%8F%E8%A7%88%E5%99%A8_%E6%9C%8D%E5%8A%A1%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8/%E7%94%A8%E6%88%B7%E4%BB%8E%E8%BE%93%E5%85%A5%E7%BD%91%E5%9D%80%E5%88%B0%E7%BD%91%E9%A1%B5%E6%98%BE%E7%A4%BA%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88.html" aria-label="ç”¨æˆ·ä»è¾“å…¥ç½‘å€åˆ°ç½‘é¡µæ˜¾ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ"><!---->ç”¨æˆ·ä»è¾“å…¥ç½‘å€åˆ°ç½‘é¡µæ˜¾ç¤ºå‘ç”Ÿäº†ä»€ä¹ˆ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/computer/%E5%89%8D%E7%AB%AFJWT.html" aria-label="å‰ç«¯JWT"><!---->å‰ç«¯JWT<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/computer/HttpOnly-Cookie.html" aria-label="HttpOnly Cookie"><!---->HttpOnly Cookie<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Node</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/%E6%B5%8F%E8%A7%88%E5%99%A8_%E6%9C%8D%E5%8A%A1%E5%99%A8/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8Cnodejs%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E7%9A%84%E5%8C%BA%E5%88%AB.html" aria-label="æµè§ˆå™¨å’Œnodejsäº‹ä»¶å¾ªç¯çš„åŒºåˆ«"><!---->æµè§ˆå™¨å’Œnodejsäº‹ä»¶å¾ªç¯çš„åŒºåˆ«<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/%E6%B5%8F%E8%A7%88%E5%99%A8_%E6%9C%8D%E5%8A%A1%E5%99%A8/%E6%9C%8D%E5%8A%A1%E5%99%A8/package.json%E7%89%88%E6%9C%AC%E5%8F%B7%E8%A7%84%E5%88%99.html" aria-label="package.jsonç‰ˆæœ¬å·è§„åˆ™"><!---->package.jsonç‰ˆæœ¬å·è§„åˆ™<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/%E6%B5%8F%E8%A7%88%E5%99%A8_%E6%9C%8D%E5%8A%A1%E5%99%A8/%E6%9C%8D%E5%8A%A1%E5%99%A8/npm%E6%A8%A1%E5%9D%97%E5%AE%89%E8%A3%85%E6%9C%BA%E5%88%B6.html" aria-label="npmæ¨¡å—å®‰è£…æœºåˆ¶ä¸pnpmçš„åŒºåˆ«"><!---->npmæ¨¡å—å®‰è£…æœºåˆ¶ä¸pnpmçš„åŒºåˆ«<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/%E6%B5%8F%E8%A7%88%E5%99%A8_%E6%9C%8D%E5%8A%A1%E5%99%A8/%E6%9C%8D%E5%8A%A1%E5%99%A8/V8%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6.html" aria-label="V8çš„åƒåœ¾å›æ”¶æœºåˆ¶"><!---->V8çš„åƒåœ¾å›æ”¶æœºåˆ¶<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æºç åˆ†æ"><!--[--><!---->æºç åˆ†æ<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Vue</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Vue2%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90.html" aria-label="Vue2 æºç è§£æ"><!---->Vue2 æºç è§£æ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Vue2%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html" aria-label="Vue2 å“åº”å¼åŸç†"><!---->Vue2 å“åº”å¼åŸç†<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" aria-label="Vue2 ç”Ÿå‘½å‘¨æœŸã€Vue3 ç”Ÿå‘½å‘¨æœŸ"><!---->Vue2 ç”Ÿå‘½å‘¨æœŸã€Vue3 ç”Ÿå‘½å‘¨æœŸ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Vue3%E5%9F%BA%E7%A1%80.html" aria-label="Vue3 åŸºç¡€"><!---->Vue3 åŸºç¡€<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Vue2VsVue3.html" aria-label="Vue2 ä¸ Vue3 å¯¹æ¯”"><!---->Vue2 ä¸ Vue3 å¯¹æ¯”<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Vue3%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html" aria-label="Vue3 æºç åˆ†æ"><!---->Vue3 æºç åˆ†æ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html" aria-label="vuex åŸç†åˆ†æ"><!---->vuex åŸç†åˆ†æ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/vueRouter%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html" aria-label="vueRouteråŸç†åˆ†æ"><!---->vueRouteråŸç†åˆ†æ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/VueCli%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html" aria-label="VueCli åŸç†åˆ†æ"><!---->VueCli åŸç†åˆ†æ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/VueSSR%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html" aria-label="Vue SSR åŸç†åˆ†æ"><!---->Vue SSR åŸç†åˆ†æ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Vue3%E8%AE%BE%E8%AE%A1%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%BC%B9%E7%AA%97%E7%BB%84%E4%BB%B6.html" aria-label="Vue3è®¾è®¡å®ç°ä¸€ä¸ªå¼¹çª—ç»„ä»¶"><!---->Vue3è®¾è®¡å®ç°ä¸€ä¸ªå¼¹çª—ç»„ä»¶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6.html" aria-label="å®ç°ä¸€ä¸ªç®€å•çš„è„šæ‰‹æ¶"><!---->å®ç°ä¸€ä¸ªç®€å•çš„è„šæ‰‹æ¶<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">React</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/React%E5%9F%BA%E7%A1%80.html" aria-label="ReactåŸºç¡€"><!---->ReactåŸºç¡€<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/React%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" aria-label="Reactç”Ÿå‘½å‘¨æœŸ"><!---->Reactç”Ÿå‘½å‘¨æœŸ<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/%E5%AD%A6React%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" aria-label="å­¦Reactçš„è®¾è®¡æ¨¡å¼"><!---->å­¦Reactçš„è®¾è®¡æ¨¡å¼<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/VueVsReact.html" aria-label="Vue ä¸ React å¯¹æ¯”"><!---->Vue ä¸ React å¯¹æ¯”<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Webpack</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Webpack%E5%9F%BA%E7%A1%80.html" aria-label="Webpack åŸºç¡€"><!---->Webpack åŸºç¡€<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Webpack%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B.html" aria-label="Webpackæ„å»ºæµç¨‹"><!---->Webpackæ„å»ºæµç¨‹<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Webpack%E6%8F%92%E4%BB%B6_%E5%8A%A0%E8%BD%BD%E5%99%A8%E6%9C%BA%E5%88%B6.html" aria-label="Webpack æ’ä»¶plugin/åŠ è½½å™¨loaderæœºåˆ¶"><!---->Webpack æ’ä»¶plugin/åŠ è½½å™¨loaderæœºåˆ¶<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Webpack%E7%9A%84tapable.html" aria-label="webpackçš„Tapable"><!---->webpackçš„Tapable<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Webpack%E7%9A%84TreeShaking.html" aria-label="Webpackçš„TreeShakingåŸç†"><!---->Webpackçš„TreeShakingåŸç†<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Webpack%E5%92%8CRollup%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9.html" aria-label="Webpackå’ŒRollupå¦‚ä½•é€‰æ‹©"><!---->Webpackå’ŒRollupå¦‚ä½•é€‰æ‹©<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Babel</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/BabelAst.html" aria-label="Babel AST"><!---->Babel AST<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/source-code/Babel%E8%87%AA%E4%B8%BB%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AABabel%E6%8F%92%E4%BB%B6.html" aria-label="è‡ªä¸»ç¼–å†™ä¸€ä¸ª Babel æ’ä»¶"><!---->è‡ªä¸»ç¼–å†™ä¸€ä¸ª Babel æ’ä»¶<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å‰ç«¯å·¥ç¨‹åŒ–ä¸é¡¹ç›®å®è·µ"><!--[--><!---->å‰ç«¯å·¥ç¨‹åŒ–ä¸é¡¹ç›®å®è·µ<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">å¾®å‰ç«¯</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/engineering/%E5%BE%AE%E5%89%8D%E7%AB%AF%E4%B8%8E%E6%A8%A1%E5%9D%97%E8%81%94%E9%82%A6/%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80.html" aria-label="å¾®å‰ç«¯åŸºç¡€"><!---->å¾®å‰ç«¯åŸºç¡€<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">æ¨¡å—åŒ–</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/engineering/%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8E%E6%89%93%E5%8C%85/ESModule_CommonJS_UMD%20%E5%B7%AE%E5%BC%82%E4%B8%8E%E4%BA%92%E8%BD%AC.html" aria-label="ES Module (ESM) ä¸ CommonJS ä¸ UMD å·®å¼‚ä¸äº’è½¬"><!---->ES Module (ESM) ä¸ CommonJS ä¸ UMD å·®å¼‚ä¸äº’è½¬<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">æµ‹è¯•ä¸è´¨é‡</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/engineering/%E6%B5%8B%E8%AF%95%E4%B8%8E%E8%B4%A8%E9%87%8F/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%EF%BC%88Jest_Vitest%EF%BC%89.html" aria-label="å•å…ƒæµ‹è¯•ï¼ˆJest&amp;Vitestï¼‰"><!---->å•å…ƒæµ‹è¯•ï¼ˆJest&amp;Vitestï¼‰<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">é¡¹ç›®è®¾è®¡</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/engineering/%E9%A1%B9%E7%9B%AE%E8%AE%BE%E8%AE%A1/%E5%AE%9E%E7%8E%B0%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95.html" aria-label="å®ç°æ‰«ç ç™»å½•"><!---->å®ç°æ‰«ç ç™»å½•<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/engineering/%E9%A1%B9%E7%9B%AE%E8%AE%BE%E8%AE%A1/%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95.html" aria-label="å•ç‚¹ç™»å½•"><!---->å•ç‚¹ç™»å½•<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/engineering/%E9%A1%B9%E7%9B%AE%E8%AE%BE%E8%AE%A1/%E5%A4%A7%E6%96%87%E4%BB%B6%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0.html" aria-label="å¤§æ–‡ä»¶æ–­ç‚¹ç»­ä¼ "><!---->å¤§æ–‡ä»¶æ–­ç‚¹ç»­ä¼ <!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è¯­è¨€ä¸æ ‡å‡†"><!--[--><!---->è¯­è¨€ä¸æ ‡å‡†<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Js</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Js/Js%E5%BC%95%E6%93%8E%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8Cjs.html" aria-label="Jså¼•æ“å¦‚ä½•æ‰§è¡Œjs"><!---->Jså¼•æ“å¦‚ä½•æ‰§è¡Œjs<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Js/%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE.html" aria-label="åŸå‹ä¸åŸå‹é“¾"><!---->åŸå‹ä¸åŸå‹é“¾<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Js/Promise%E5%BC%82%E6%AD%A5.html" aria-label="Promiseå¼‚æ­¥"><!---->Promiseå¼‚æ­¥<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Js/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF.html" aria-label="äº‹ä»¶å¾ªç¯"><!---->äº‹ä»¶å¾ªç¯<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Js/%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85.html" aria-label="ä½œç”¨åŸŸä¸é—­åŒ…"><!---->ä½œç”¨åŸŸä¸é—­åŒ…<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Js/%E6%9F%AF%E9%87%8C%E5%8C%96%E5%87%BD%E6%95%B0.html" aria-label="æŸ¯é‡ŒåŒ–å‡½æ•°"><!---->æŸ¯é‡ŒåŒ–å‡½æ•°<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Js/%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D.html" aria-label="æ·±æ‹·è´ä¸æµ…æ‹·è´"><!---->æ·±æ‹·è´ä¸æµ…æ‹·è´<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Js/bind_call_apply.html" aria-label="bind&amp;call&amp;apply"><!---->bind&amp;call&amp;apply<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">Ts</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Ts/Ts%E5%9F%BA%E7%A1%80.html" aria-label="TsåŸºç¡€"><!---->TsåŸºç¡€<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/language/Ts/Ts%E6%8E%A5%E5%8F%A3vs%E7%B1%BB%E5%9E%8B%E5%88%AB%E5%90%8D.html" aria-label="Tsæ¥å£vsç±»å‹åˆ«å"><!---->Tsæ¥å£vsç±»å‹åˆ«å<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è·¨ç«¯ä¸ç§»åŠ¨ç«¯"><!--[--><!---->è·¨ç«¯ä¸ç§»åŠ¨ç«¯<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">è·¨ç«¯</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/knowledge/guide/%E8%B7%A8%E7%AB%AF%E4%B8%8E%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E8%B7%A8%E7%AB%AF/Taro%E5%8E%9F%E7%90%86.html" aria-label="Taro åŸç†"><!---->Taro åŸç†<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">ç§»åŠ¨ç«¯</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/knowledge/guide/%E8%B7%A8%E7%AB%AF%E4%B8%8E%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF/%E5%BC%80%E5%8F%91%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F.html" aria-label="å¼€å‘å°ç¨‹åºçš„å‡ ç§æ–¹å¼"><!---->å¼€å‘å°ç¨‹åºçš„å‡ ç§æ–¹å¼<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/knowledge/guide/%E8%B7%A8%E7%AB%AF%E4%B8%8E%E7%A7%BB%E5%8A%A8%E7%AB%AF/" aria-label="è·¨ç«¯ä¸ç§»åŠ¨ç«¯"><!---->è·¨ç«¯ä¸ç§»åŠ¨ç«¯<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å…¨æ ˆä¸æœªæ¥"><!--[--><!---->å…¨æ ˆä¸æœªæ¥<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/knowledge/guide/%E5%85%A8%E6%A0%88%E4%B8%8E%E6%9C%AA%E6%9D%A5/%E6%8A%80%E6%9C%AF%E5%86%B3%E7%AD%96%E7%9A%84%E6%80%9D%E8%80%83.html" aria-label="æŠ€æœ¯å†³ç­–çš„æ€è€ƒ"><!---->æŠ€æœ¯å†³ç­–çš„æ€è€ƒ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/knowledge/guide/%E5%85%A8%E6%A0%88%E4%B8%8E%E6%9C%AA%E6%9D%A5/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95%E8%AE%BA.html" aria-label="å­¦ä¹ æ–¹æ³•è®º"><!---->å­¦ä¹ æ–¹æ³•è®º<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/knowledge/guide/%E5%85%A8%E6%A0%88%E4%B8%8E%E6%9C%AA%E6%9D%A5/%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C.html" aria-label="å›¢é˜Ÿåä½œ"><!---->å›¢é˜Ÿåä½œ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/knowledge/guide/%E5%85%A8%E6%A0%88%E4%B8%8E%E6%9C%AA%E6%9D%A5/%E4%B8%AA%E4%BA%BA%E6%88%90%E9%95%BF%E8%B7%AF%E5%BE%84.html" aria-label="ä¸ªäººæˆé•¿è·¯å¾„"><!---->ä¸ªäººæˆé•¿è·¯å¾„<!----></a></li></ul></button></div></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/yjieyan/knowledge" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><!----><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Taro åŸç†</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://yjieyan.github.io/knowledge" target="_blank" rel="noopener noreferrer">yjieyan</a></span><span property="author" content="yjieyan"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025/10/19</span><meta property="datePublished" content="2025-10-19T15:34:32.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 47 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT47M"></span><!----><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="taro-åŸç†" tabindex="-1"><a class="header-anchor" href="#taro-åŸç†"><span>Taro åŸç†</span></a></h1><h2 id="ä¸€ã€taro-çš„å®‰è£…ä¸ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€taro-çš„å®‰è£…ä¸ä½¿ç”¨"><span>ä¸€ã€Taro çš„å®‰è£…ä¸ä½¿ç”¨</span></a></h2><h3 id="_1-1-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_1-1-å®‰è£…"><span>1.1 å®‰è£…</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> @tarojs/cli</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">taro</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -V</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_1-2-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-2-ä½¿ç”¨"><span>1.2 ä½¿ç”¨</span></a></h3><p>ä½¿ç”¨å‘½ä»¤åˆ›å»ºæ¨¡æ¿é¡¹ç›®</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myApp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!-- ![](https://s.poetries.top/gitee/2020/09/92.png) --><h4 id="_1-2-1-å¾®ä¿¡å°ç¨‹åº" tabindex="-1"><a class="header-anchor" href="#_1-2-1-å¾®ä¿¡å°ç¨‹åº"><span>1.2.1 å¾®ä¿¡å°ç¨‹åº</span></a></h4><blockquote><p>é€‰æ‹©å¾®ä¿¡å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œç„¶åé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•è¿›è¡Œé¢„è§ˆ</p></blockquote><p>å¾®ä¿¡å°ç¨‹åºç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ…</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># npm script</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev:weapp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build:weapp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-2-ç™¾åº¦å°ç¨‹åº" tabindex="-1"><a class="header-anchor" href="#_1-2-2-ç™¾åº¦å°ç¨‹åº"><span>1.2.2 ç™¾åº¦å°ç¨‹åº</span></a></h4><blockquote><p>é€‰æ‹©ç™¾åº¦å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶æ‰“å¼€<a href="https://smartprogram.baidu.com/docs/develop/devtools/show_sur/" target="_blank" rel="noopener noreferrer">ç™¾åº¦å¼€å‘è€…å·¥å…·</a>ï¼Œç„¶ååœ¨é¡¹ç›®ç¼–è¯‘å®Œåé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹ dist ç›®å½•è¿›è¡Œé¢„è§ˆ</p></blockquote><p>ç™¾åº¦å°ç¨‹åºç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ…</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># npm script</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev:swan</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build:swan</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-3-æ”¯ä»˜å®å°ç¨‹åº" tabindex="-1"><a class="header-anchor" href="#_1-2-3-æ”¯ä»˜å®å°ç¨‹åº"><span>1.2.3 æ”¯ä»˜å®å°ç¨‹åº</span></a></h4><blockquote><p>é€‰æ‹©æ”¯ä»˜å®å°ç¨‹åºæ¨¡å¼ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½å¹¶æ‰“å¼€<a href="https://docs.alipay.com/mini/developer/getting-started/" target="_blank" rel="noopener noreferrer">æ”¯ä»˜å®å°ç¨‹åºå¼€å‘è€…å·¥å…·</a>ï¼Œç„¶ååœ¨é¡¹ç›®ç¼–è¯‘å®Œåé€‰æ‹©é¡¹ç›®æ ¹ç›®å½•ä¸‹ dist ç›®å½•è¿›è¡Œé¢„è§ˆ</p></blockquote><p>æ”¯ä»˜å®å°ç¨‹åºç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ…ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># npm script</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev:alipay</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build:alipay</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-4-h5" tabindex="-1"><a class="header-anchor" href="#_1-2-4-h5"><span>1.2.4 H5</span></a></h4><p>H5 ç¼–è¯‘é¢„è§ˆåŠæ‰“åŒ…ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># npm script</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev:h5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ä»…é™å…¨å±€å®‰è£…</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> h5</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --watch</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-5-react-native" tabindex="-1"><a class="header-anchor" href="#_1-2-5-react-native"><span>1.2.5 React Native</span></a></h4><blockquote><p><code>React Native</code> ç«¯è¿è¡Œéœ€æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œ<code>React Native</code> ç«¯ç›¸å…³çš„è¿è¡Œè¯´æ˜è¯·å‚è§ <code>React Native</code> <a href="https://nervjs.github.io/taro/docs/react-native.html" target="_blank" rel="noopener noreferrer">æ•™ç¨‹</a></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># npm script</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev:rn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-æ›´æ–°-taro" tabindex="-1"><a class="header-anchor" href="#_1-3-æ›´æ–°-taro"><span>1.3 æ›´æ–° Taro</span></a></h3><blockquote><p><code>Taro</code> æä¾›äº†æ›´æ–°å‘½ä»¤æ¥æ›´æ–° <code>CLI </code>å·¥å…·è‡ªèº«å’Œé¡¹ç›®ä¸­ <code>Taro</code> ç›¸å…³çš„ä¾èµ–ã€‚</p></blockquote><p>æ›´æ–° <code>taro-cli</code> å·¥å…·</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># taro</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> self</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># npm</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ›´æ–°é¡¹ç›®ä¸­ <code>Taro</code> ç›¸å…³çš„ä¾èµ–ï¼Œè¿™ä¸ªéœ€è¦åœ¨ä½ çš„é¡¹ç›®ä¸‹æ‰§è¡Œ</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> project</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="äºŒã€taro-å¼€å‘è¯´æ˜ä¸æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#äºŒã€taro-å¼€å‘è¯´æ˜ä¸æ³¨æ„äº‹é¡¹"><span>äºŒã€Taro å¼€å‘è¯´æ˜ä¸æ³¨æ„äº‹é¡¹</span></a></h2><h3 id="_2-1-å¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·çš„é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-1-å¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·çš„é…ç½®"><span>2.1 å¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·çš„é…ç½®</span></a></h3><blockquote><p>ç”±äº <code>Taro</code> ç¼–è¯‘åçš„ä»£ç å·²ç»ç»è¿‡äº†è½¬ä¹‰å’Œå‹ç¼©ï¼Œå› æ­¤è¿˜éœ€è¦æ³¨æ„å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„é¡¹ç›®è®¾ç½®</p></blockquote><ul><li>è®¾ç½®å…³é—­ <code>ES6</code> è½¬ <code>ES5</code> åŠŸèƒ½</li><li>è®¾ç½®å…³é—­ä¸Šä¼ ä»£ç æ—¶æ ·å¼è‡ªåŠ¨è¡¥å…¨</li><li>è®¾ç½®å…³é—­ä»£ç å‹ç¼©ä¸Šä¼ </li></ul><!-- ![](https://s.poetries.top/gitee/2020/09/239.png) --><h3 id="_2-2-taro-ä¸-react-çš„å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_2-2-taro-ä¸-react-çš„å·®å¼‚"><span>2.2 Taro ä¸ React çš„å·®å¼‚</span></a></h3><blockquote><p>ç”±äºå¾®ä¿¡å°ç¨‹åºçš„é™åˆ¶ï¼Œ<code>React</code> ä¸­æŸäº›å†™æ³•å’Œç‰¹æ€§åœ¨ <code>Taro</code> ä¸­è¿˜æœªèƒ½å®ç°ï¼Œåç»­å°†ä¼šé€æ¸å®Œå–„ã€‚ æˆªæ­¢åˆ°æœ¬å°å†Œå‘å¸ƒå‰ï¼Œ<code>Taro</code> çš„æœ€æ–°ç‰ˆæœ¬ä¸º <code>1.1</code>ï¼Œå› æ­¤ä»¥ä¸‹è®²è§£é»˜è®¤ç‰ˆæœ¬ä¸º <code>1.1</code></p></blockquote><h4 id="_2-2-1-æš‚ä¸æ”¯æŒåœ¨-render-ä¹‹å¤–çš„æ–¹æ³•å®šä¹‰-jsx" tabindex="-1"><a class="header-anchor" href="#_2-2-1-æš‚ä¸æ”¯æŒåœ¨-render-ä¹‹å¤–çš„æ–¹æ³•å®šä¹‰-jsx"><span>2.2.1 æš‚ä¸æ”¯æŒåœ¨ render() ä¹‹å¤–çš„æ–¹æ³•å®šä¹‰ JSX</span></a></h4><blockquote><p>ç”±äºå¾®ä¿¡å°ç¨‹åºçš„ <code>template</code> ä¸èƒ½åŠ¨æ€ä¼ å€¼å’Œä¼ å…¥å‡½æ•°ï¼Œ<code>Taro</code> æš‚æ—¶ä¹Ÿæ²¡åŠæ³•æ”¯æŒåœ¨ç±»æ–¹æ³•ä¸­å®šä¹‰ <code>JSX</code></p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> App</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  _render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> App</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  renderHeader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">showHeader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> showHeader</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Header</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> App</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  renderHeader</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">showHeader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> showHeader</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Header</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>åœ¨ <code>render</code> æ–¹æ³•ä¸­å®šä¹‰</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> App</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">showHeader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">showMain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">state</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> header</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> showHeader</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Header</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> main</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> showMain</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">        {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">header</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">        {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">main</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-2-ä¸èƒ½åœ¨åŒ…å«-jsx-å…ƒç´ çš„-map-å¾ªç¯ä¸­ä½¿ç”¨-if-è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#_2-2-2-ä¸èƒ½åœ¨åŒ…å«-jsx-å…ƒç´ çš„-map-å¾ªç¯ä¸­ä½¿ç”¨-if-è¡¨è¾¾å¼"><span>2.2.2 ä¸èƒ½åœ¨åŒ…å« JSX å…ƒç´ çš„ map å¾ªç¯ä¸­ä½¿ç”¨ if è¡¨è¾¾å¼</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> element</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> isOdd</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> number</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">isOdd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    element</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> element</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> isOdd</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    isOdd</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> isOdd</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>å°½é‡åœ¨ <code>map</code> å¾ªç¯ä¸­ä½¿ç”¨æ¡ä»¶è¡¨è¾¾å¼æˆ–é€»è¾‘è¡¨è¾¾å¼ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> isOdd</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> number</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> isOdd</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt; </span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> null</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> isOdd</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> number</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> isOdd</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-3-ä¸èƒ½ä½¿ç”¨-array-map-ä¹‹å¤–çš„æ–¹æ³•æ“ä½œ-jsx-æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_2-2-3-ä¸èƒ½ä½¿ç”¨-array-map-ä¹‹å¤–çš„æ–¹æ³•æ“ä½œ-jsx-æ•°ç»„"><span>2.2.3 ä¸èƒ½ä½¿ç”¨ Array.map ä¹‹å¤–çš„æ–¹æ³•æ“ä½œ JSX æ•°ç»„</span></a></h4><blockquote><p>Taro åœ¨å°ç¨‹åºç«¯å®é™…ä¸ŠæŠŠ JSX è½¬æ¢æˆäº†å­—ç¬¦ä¸²æ¨¡æ¿ï¼Œè€Œä¸€ä¸ªåŸç”Ÿ <code>JSX</code> è¡¨è¾¾å¼å®é™…ä¸Šæ˜¯ä¸€ä¸ª <code>React/Nerv</code> å…ƒç´ (react - element)çš„æ„é€ å™¨ï¼Œå› æ­¤åœ¨åŸç”Ÿ JSX ä¸­ä½ å¯ä»¥å¯¹ä»»ä½•ä¸€ç»„ React å…ƒç´ è¿›è¡Œæ“ä½œã€‚ä½†åœ¨ Taro ä¸­ä½ åªèƒ½ä½¿ç”¨ map æ–¹æ³•ï¼ŒTaro è½¬æ¢æˆå°ç¨‹åºä¸­ <code>wx:for</code>â€¦</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">push</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">numbers</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">someCase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">shift</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">components</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">component</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> component</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">components</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">some</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">component</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">constructor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__proto__</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">constructor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> element</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>å…ˆå¤„ç†å¥½éœ€è¦éå†çš„æ•°ç»„ï¼Œç„¶åå†ç”¨å¤„ç†å¥½çš„æ•°ç»„è°ƒç”¨ map æ–¹æ³•ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">isOdd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> index</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">index</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">index</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // do you thing with array</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> element</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-4-ä¸èƒ½åœ¨-jsx-å‚æ•°ä¸­ä½¿ç”¨åŒ¿åå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_2-2-4-ä¸èƒ½åœ¨-jsx-å‚æ•°ä¸­ä½¿ç”¨åŒ¿åå‡½æ•°"><span>2.2.4 ä¸èƒ½åœ¨ JSX å‚æ•°ä¸­ä½¿ç”¨åŒ¿åå‡½æ•°</span></a></h4><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ({})</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {}</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)}</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>ä½¿ç”¨ <code>bind</code> æˆ– ç±»å‚æ•°ç»‘å®šå‡½æ•°ã€‚</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">hanldeClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_2-2-5-ä¸èƒ½åœ¨-jsx-å‚æ•°ä¸­ä½¿ç”¨å¯¹è±¡å±•å¼€ç¬¦" tabindex="-1"><a class="header-anchor" href="#_2-2-5-ä¸èƒ½åœ¨-jsx-å‚æ•°ä¸­ä½¿ç”¨å¯¹è±¡å±•å¼€ç¬¦"><span>2.2.5 ä¸èƒ½åœ¨ JSX å‚æ•°ä¸­ä½¿ç”¨å¯¹è±¡å±•å¼€ç¬¦</span></a></h4><blockquote><p>å¾®ä¿¡å°ç¨‹åºç»„ä»¶è¦æ±‚æ¯ä¸€ä¸ªä¼ å…¥ç»„ä»¶çš„å‚æ•°éƒ½å¿…é¡»é¢„å…ˆè®¾å®šå¥½ï¼Œè€Œå¯¹è±¡å±•å¼€ç¬¦åˆ™æ˜¯åŠ¨æ€ä¼ å…¥ä¸å›ºå®šæ•°é‡çš„å‚æ•°ã€‚æ‰€ä»¥ <code>Taro</code> æ²¡æœ‰åŠæ³•æ”¯æŒè¯¥åŠŸèƒ½</p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>å¼€å‘è€…è‡ªè¡Œèµ‹å€¼ï¼š</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> obj</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> title</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-6-ä¸å…è®¸åœ¨-jsx-å‚æ•°-props-ä¸­ä¼ å…¥-jsx-å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#_2-2-6-ä¸å…è®¸åœ¨-jsx-å‚æ•°-props-ä¸­ä¼ å…¥-jsx-å…ƒç´ "><span>2.2.6 ä¸å…è®¸åœ¨ JSX å‚æ•°ï¼ˆpropsï¼‰ä¸­ä¼ å…¥ JSX å…ƒç´ </span></a></h4><blockquote><p>ç”±äºå¾®ä¿¡å°ç¨‹åºå†…ç½®çš„ç»„ä»¶åŒ–çš„ç³»ç»Ÿä¸èƒ½é€šè¿‡å±æ€§ï¼ˆpropsï¼‰ ä¼ å‡½æ•°ï¼Œè€Œ props ä¼ é€’å‡½æ•°å¯ä»¥è¯´æ˜¯ React ä½“ç³»çš„æ ¹åŸºä¹‹ä¸€ï¼Œæˆ‘ä»¬åªèƒ½è‡ªå·±å®ç°ä¸€å¥—ç»„ä»¶åŒ–ç³»ç»Ÿã€‚è€Œè‡ªåˆ¶çš„ç»„ä»¶åŒ–ç³»ç»Ÿä¸èƒ½ä½¿ç”¨å†…ç½®ç»„ä»¶åŒ–çš„ slot åŠŸèƒ½ã€‚ä¸¤æƒç›¸å®³å–å…¶è½»ï¼Œæˆ‘ä»¬æš‚æ—¶åªèƒ½ä¸æ”¯æŒè¯¥åŠŸèƒ½â€¦</p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> child</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> child</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> child</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () { &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt; }</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> child</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ary</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;)</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><blockquote><p>é€šè¿‡ <code>props</code> ä¼ å€¼åœ¨ <code>JSX</code> æ¨¡æ¿ä¸­é¢„å…ˆåˆ¤å®šæ˜¾ç¤ºå†…å®¹ï¼Œæˆ–é€šè¿‡ <code>props.children</code> æ¥åµŒå¥—å­ç»„ä»¶</p></blockquote><h4 id="_2-2-7-ä¸æ”¯æŒæ— çŠ¶æ€ç»„ä»¶-stateless-component" tabindex="-1"><a class="header-anchor" href="#_2-2-7-ä¸æ”¯æŒæ— çŠ¶æ€ç»„ä»¶-stateless-component"><span>2.2.7 ä¸æ”¯æŒæ— çŠ¶æ€ç»„ä»¶ï¼ˆStateless Component)</span></a></h4><blockquote><p>ç”±äºå¾®ä¿¡çš„ <code>template</code> èƒ½åŠ›æœ‰é™ï¼Œä¸æ”¯æŒåŠ¨æ€ä¼ å€¼å’Œå‡½æ•°ï¼Œ<code>Taro</code> æš‚æ—¶åªæ”¯æŒä¸€ä¸ªæ–‡ä»¶è‡ªå®šä¹‰ä¸€ä¸ªç»„ä»¶ã€‚ä¸ºäº†é¿å…å¼€å‘è€…ç–‘æƒ‘ï¼Œæš‚æ—¶ä¸æ”¯æŒå®šä¹‰ <code>Stateless Component</code></p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">ary</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> ary</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Test</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Test</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è§£å†³æ–¹æ¡ˆ</strong></p><p>ä½¿ç”¨ <code>class</code> å®šä¹‰ç»„ä»¶ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> App</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-å‘½åè§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#_2-3-å‘½åè§„èŒƒ"><span>2.3 å‘½åè§„èŒƒ</span></a></h3><blockquote><p>Taro å‡½æ•°å‘½åä½¿ç”¨é©¼å³°å‘½åæ³•ï¼Œå¦‚<code>onClick</code>ï¼Œç”±äºå¾®ä¿¡å°ç¨‹åºçš„ WXML ä¸æ”¯æŒä¼ é€’å‡½æ•°ï¼Œå‡½æ•°åç¼–è¯‘åä¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼ç»‘å®šåœ¨ WXML ä¸Šï¼Œå›¿äº WXML çš„é™åˆ¶ï¼Œå‡½æ•°åæœ‰ä¸‰é¡¹é™åˆ¶</p></blockquote><ul><li>æ–¹æ³•åä¸èƒ½å«æœ‰æ•°å­—</li><li>æ–¹æ³•åä¸èƒ½ä»¥ä¸‹åˆ’çº¿å¼€å¤´æˆ–ç»“å°¾</li><li>æ–¹æ³•åçš„é•¿åº¦ä¸èƒ½å¤§äº <code>20</code></li></ul><p>è¯·éµå®ˆä»¥ä¸Šè§„åˆ™ï¼Œå¦åˆ™ç¼–è¯‘åçš„ä»£ç åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯</p><figure><img src="https://s.poetries.top/gitee/2020/09/240.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_2-4-æ¨èå®‰è£…-eslint-ç¼–è¾‘å™¨æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-4-æ¨èå®‰è£…-eslint-ç¼–è¾‘å™¨æ’ä»¶"><span>2.4 æ¨èå®‰è£… ESLint ç¼–è¾‘å™¨æ’ä»¶</span></a></h3><blockquote><p>Taro æœ‰äº›å†™æ³•è·Ÿ React æœ‰äº›å·®å¼‚ï¼Œå¯ä»¥é€šè¿‡å®‰è£… ESLint ç›¸å…³çš„ç¼–è¾‘å™¨æ’ä»¶æ¥è·å¾—äººæ€§åŒ–çš„æç¤ºã€‚ç”±äºä¸åŒç¼–è¾‘å™¨å®‰è£…çš„æ’ä»¶æœ‰æ‰€ä¸åŒï¼Œå…·ä½“å®‰è£…æ–¹æ³•è¯·è‡ªè¡Œæœç´¢ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ å¦‚ä¸‹å›¾ï¼Œå°±æ˜¯å®‰è£…æ’ä»¶åè·å¾—çš„æç¤º</p></blockquote><p><img src="https://s.poetries.top/gitee/2020/09/241.png" alt="" loading="lazy"> <img src="https://s.poetries.top/gitee/2020/09/242.png" alt="" loading="lazy"></p><h3 id="_2-5-æœ€ä½³ç¼–ç æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_2-5-æœ€ä½³ç¼–ç æ–¹å¼"><span>2.5 æœ€ä½³ç¼–ç æ–¹å¼</span></a></h3><p><strong>ç»„ä»¶ä¼ é€’å‡½æ•°å±æ€§åä»¥ on å¼€å¤´</strong></p><blockquote><p>åœ¨ <code>Taro</code> ä¸­ï¼Œçˆ¶ç»„ä»¶è¦å¾€å­ç»„ä»¶ä¼ é€’å‡½æ•°ï¼Œå±æ€§åå¿…é¡»ä»¥<code> on</code> å¼€å¤´</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è°ƒç”¨ Custom ç»„ä»¶ï¼Œä¼ å…¥ handleEvent å‡½æ•°ï¼Œå±æ€§åä¸º `onTrigger`</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Parent</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  handleEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onTrigger</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">handleEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿™æ˜¯å› ä¸ºï¼Œå¾®ä¿¡å°ç¨‹åºç«¯ç»„ä»¶åŒ–æ˜¯ä¸èƒ½ç›´æ¥ä¼ é€’å‡½æ•°ç±»å‹ç»™å­ç»„ä»¶çš„ï¼Œåœ¨ Taro ä¸­æ˜¯å€ŸåŠ©ç»„ä»¶çš„äº‹ä»¶æœºåˆ¶æ¥å®ç°è¿™ä¸€ç‰¹æ€§ï¼Œè€Œå°ç¨‹åºä¸­ä¼ å…¥äº‹ä»¶çš„æ—¶å€™å±æ€§åå†™æ³•ä¸º <code>bindmyevent</code> æˆ–è€… <code>bind:myevent</code></p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> å½“è‡ªå®šä¹‰ç»„ä»¶è§¦å‘</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â€œ</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">myevent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â€</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">äº‹ä»¶æ—¶</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ï¼Œ</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">è°ƒç”¨</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â€œ</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">onMyEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â€</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">æ–¹æ³•</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">component-tag-name</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> bindmyevent</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;onMyEvent&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> æˆ–è€…å¯ä»¥å†™æˆ</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">component-tag-name</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> bind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">myevent</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;onMyEvent&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ‰€ä»¥ <code>Taro</code>ä¸­çº¦å®šç»„ä»¶ä¼ é€’å‡½æ•°å±æ€§åä»¥ <code>on</code> å¼€å¤´ï¼ŒåŒæ—¶è¿™ä¹Ÿå’Œå†…ç½®ç»„ä»¶çš„äº‹ä»¶ç»‘å®šå†™æ³•ä¿æŒä¸€è‡´äº†â€¦</p></blockquote><p><strong>å°ç¨‹åºç«¯ä¸è¦åœ¨ç»„ä»¶ä¸­æ‰“å°ä¼ å…¥çš„å‡½æ•°</strong></p><blockquote><p>å‰é¢å·²ç»æåˆ°å°ç¨‹åºç«¯çš„ç»„ä»¶ä¼ å…¥å‡½æ•°çš„åŸç†ï¼Œæ‰€ä»¥åœ¨å°ç¨‹åºç«¯ä¸è¦åœ¨ç»„ä»¶ä¸­æ‰“å°ä¼ å…¥çš„å‡½æ•°ï¼Œå› ä¸ºæ‹¿ä¸åˆ°ç»“æœï¼Œä½†æ˜¯ <code>this.props.onXxx &amp;&amp; this.props.onXxx()</code> è¿™ç§åˆ¤æ–­å‡½æ•°æ˜¯å¦ä¼ å…¥æ¥è¿›è¡Œè°ƒç”¨çš„å†™æ³•æ˜¯å®Œå…¨æ”¯æŒçš„â€¦</p></blockquote><p><strong>å°ç¨‹åºç«¯ä¸è¦å°†åœ¨æ¨¡æ¿ä¸­ç”¨åˆ°çš„æ•°æ®è®¾ç½®ä¸º undefined</strong></p><ul><li>ç”±äºå°ç¨‹åºä¸æ”¯æŒå°† <code>data</code> ä¸­ä»»ä½•ä¸€é¡¹çš„ <code>value</code> è®¾ä¸º <code>undefined</code> ï¼Œåœ¨ <code>setState</code> çš„æ—¶å€™ä¹Ÿè¯·é¿å…è¿™ä¹ˆç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>null</code> æ¥æ›¿ä»£ã€‚</li><li>å°ç¨‹åºç«¯ä¸è¦åœ¨ç»„ä»¶ä¸­æ‰“å° <code>this.props.children</code> åœ¨å¾®ä¿¡å°ç¨‹åºç«¯æ˜¯é€šè¿‡<code> &lt;slot /&gt;</code> æ¥å®ç°å¾€è‡ªå®šä¹‰ç»„ä»¶ä¸­ä¼ å…¥å…ƒç´ çš„ï¼Œè€Œ <code>Taro</code> åˆ©ç”¨ <code>this.props.children</code> åœ¨ç¼–è¯‘æ—¶å®ç°äº†è¿™ä¸€åŠŸèƒ½ï¼Œ <code>this.props.children</code> ä¼šç›´æ¥è¢«ç¼–è¯‘æˆ <code>&lt;slot /&gt;</code> æ ‡ç­¾ï¼Œæ‰€ä»¥å®ƒåœ¨å°ç¨‹åºç«¯å±äºè¯­æ³•ç³–çš„å­˜åœ¨ï¼Œè¯·ä¸è¦åœ¨ç»„ä»¶ä¸­æ‰“å°å®ƒâ€¦</li></ul><p><strong>ç»„ä»¶ state ä¸ props é‡Œå­—æ®µé‡åçš„é—®é¢˜</strong></p><blockquote><p>ä¸è¦åœ¨ <code>state </code>ä¸ <code>props</code> ä¸Šç”¨åŒåçš„å­—æ®µï¼Œå› ä¸ºè¿™äº›è¢«å­—æ®µåœ¨å¾®ä¿¡å°ç¨‹åºä¸­éƒ½ä¼šæŒ‚åœ¨ <code>data</code> ä¸Š</p></blockquote><p><strong>å°ç¨‹åºä¸­é¡µé¢ç”Ÿå‘½å‘¨æœŸ componentWillMount ä¸ä¸€è‡´é—®é¢˜</strong></p><blockquote><p>ç”±äºå¾®ä¿¡å°ç¨‹åºé‡Œé¡µé¢åœ¨ <code>onLoad</code> æ—¶æ‰èƒ½æ‹¿åˆ°é¡µé¢çš„è·¯ç”±å‚æ•°ï¼Œè€Œé¡µé¢ <code>onLoad</code> å‰ç»„ä»¶éƒ½å·²ç» <code>attached</code> äº†ã€‚å› æ­¤é¡µé¢çš„ <code>componentWillMount</code> å¯èƒ½ä¼šä¸é¢„æœŸä¸å¤ªä¸€è‡´ã€‚ä¾‹å¦‚ï¼š</p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é”™è¯¯å†™æ³•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // åœ¨ willMount ä¹‹å‰æ— æ³•æ‹¿åˆ°è·¯ç”±å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> abc</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">$router</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">abc</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> adc</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">abc</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ­£ç¡®å†™æ³•</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">componentWillMount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> abc</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">$router</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">abc</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    abc</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å¢åŠ ä¸€ä¸ªå…¼å®¹åˆ¤æ–­</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">abc</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Custom</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> adc</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">abc</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºä¸éœ€è¦ç­‰åˆ°é¡µé¢ <code>willMount</code> ä¹‹åå–è·¯ç”±å‚æ•°çš„é¡µé¢åˆ™æ²¡æœ‰ä»»ä½•å½±å“â€¦</p><p><strong>JS ç¼–ç å¿…é¡»ç”¨å•å¼•å·</strong></p><blockquote><p>åœ¨ <code>Taro</code> ä¸­ï¼Œ<code>JS</code> ä»£ç é‡Œå¿…é¡»ä¹¦å†™å•å¼•å·ï¼Œç‰¹åˆ«æ˜¯ <code>JSX</code> ä¸­ï¼Œå¦‚æœå‡ºç°åŒå¼•å·ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯</p></blockquote><p><strong>process.env çš„ä½¿ç”¨</strong></p><blockquote><p>ä¸è¦ä»¥è§£æ„çš„æ–¹å¼æ¥è·å–é€šè¿‡ <code>env </code>é…ç½®çš„ <code>process.env</code> ç¯å¢ƒå˜é‡ï¼Œè¯·ç›´æ¥ä»¥å®Œæ•´ä¹¦å†™çš„æ–¹å¼ <code>process.env.NODE_ENV </code>æ¥è¿›è¡Œä½¿ç”¨</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é”™è¯¯å†™æ³•ï¼Œä¸æ”¯æŒ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">NODE_ENV</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;development&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">env</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">NODE_ENV</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;development&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">  ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ­£ç¡®å†™æ³•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">process</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">env</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">NODE_ENV</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;development&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é¢„åŠ è½½</strong></p><blockquote><p>åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ï¼Œä»è°ƒç”¨ <code>Taro.navigateTo</code>ã€<code>Taro.redirectTo</code> æˆ– <code>Taro.switchTab</code> åï¼Œåˆ°é¡µé¢è§¦å‘<code> componentWillMount</code> ä¼šæœ‰ä¸€å®šå»¶æ—¶ã€‚å› æ­¤ä¸€äº›ç½‘ç»œè¯·æ±‚å¯ä»¥æå‰åˆ°å‘èµ·è·³è½¬å‰ä¸€åˆ»å»è¯·æ±‚</p></blockquote><p>Taro æä¾›äº† <code>componentWillPreload</code> é’©å­ï¼Œå®ƒæ¥æ”¶é¡µé¢è·³è½¬çš„å‚æ•°ä½œä¸ºå‚æ•°ã€‚å¯ä»¥æŠŠéœ€è¦é¢„åŠ è½½çš„å†…å®¹é€šè¿‡ <code>return</code> è¿”å›ï¼Œç„¶ååœ¨é¡µé¢è§¦å‘ <code>componentWillMount</code> åå³å¯é€šè¿‡ <code>this.$preloadData</code> è·å–åˆ°é¢„åŠ è½½çš„å†…å®¹ã€‚â€¦</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Index</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  componentWillMount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;isFetching: &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isFetching</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$preloadData</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">        console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;res: &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isFetching</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  componentWillPreload</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fetchData</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">params</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  fetchData</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isFetching</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">    ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸‰ã€taro-è®¾è®¡æ€æƒ³åŠæ¶æ„" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€taro-è®¾è®¡æ€æƒ³åŠæ¶æ„"><span>ä¸‰ã€Taro è®¾è®¡æ€æƒ³åŠæ¶æ„</span></a></h2><blockquote><p>åœ¨ Taro ä¸­é‡‡ç”¨çš„æ˜¯ç¼–è¯‘åŸç†çš„æ€æƒ³ï¼Œæ‰€è°“ç¼–è¯‘åŸç†ï¼Œå°±æ˜¯ä¸€ä¸ªå¯¹è¾“å…¥çš„æºä»£ç è¿›è¡Œè¯­æ³•åˆ†æï¼Œè¯­æ³•æ ‘æ„å»ºï¼Œéšåå¯¹è¯­æ³•æ ‘è¿›è¡Œè½¬æ¢æ“ä½œå†è§£æç”Ÿæˆç›®æ ‡ä»£ç çš„è¿‡ç¨‹ã€‚</p></blockquote><figure><img src="https://s.poetries.top/gitee/2020/09/243.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_3-1-æŠ¹å¹³å¤šç«¯å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_3-1-æŠ¹å¹³å¤šç«¯å·®å¼‚"><span>3.1 æŠ¹å¹³å¤šç«¯å·®å¼‚</span></a></h3><blockquote><p>åŸºäºç¼–è¯‘åŸç†ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å°† Taro æºç ç¼–è¯‘æˆä¸åŒç«¯ä¸Šå¯ä»¥è¿è¡Œçš„ä»£ç äº†ï¼Œä½†æ˜¯è¿™å¯¹äºå®ç°å¤šç«¯å¼€å‘è¿˜æ˜¯è¿œè¿œä¸å¤Ÿã€‚å› ä¸ºä¸åŒçš„å¹³å°éƒ½æœ‰è‡ªå·±çš„ç‰¹æ€§ï¼Œæ¯ä¸€ä¸ªå¹³å°éƒ½ä¸å°½ç›¸åŒï¼Œè¿™äº›å·®å¼‚ä¸»è¦ä½“ç°åœ¨ä¸åŒçš„ç»„ä»¶æ ‡å‡†ä¸ä¸åŒçš„ API æ ‡å‡†ä»¥åŠä¸åŒçš„è¿è¡Œæœºåˆ¶ä¸Š</p></blockquote><p>ä»¥å°ç¨‹åºå’Œ Web ç«¯ä¸ºä¾‹</p><p><img src="https://s.poetries.top/gitee/2020/09/244.png" alt="" loading="lazy"> <img src="https://s.poetries.top/gitee/2020/09/245.png" alt="" loading="lazy"></p><ul><li>å¯ä»¥çœ‹å‡ºå°ç¨‹åºå’Œ Web ç«¯ä¸Šç»„ä»¶æ ‡å‡†ä¸ API æ ‡å‡†æœ‰å¾ˆå¤§å·®å¼‚ï¼Œè¿™äº›å·®å¼‚ä»…ä»…é€šè¿‡ä»£ç ç¼–è¯‘æ‰‹æ®µæ˜¯æ— æ³•æŠ¹å¹³çš„ï¼Œä¾‹å¦‚ä½ ä¸èƒ½ç›´æ¥åœ¨ç¼–è¯‘æ—¶å°†å°ç¨‹åºçš„ <code>&lt;view /&gt;</code> ç›´æ¥ç¼–è¯‘æˆ <code>&lt;div /&gt;</code>ï¼Œå› ä¸ºä»–ä»¬è™½ç„¶çœ‹ä¸Šå»æœ‰äº›ç±»ä¼¼ï¼Œä½†æ˜¯ä»–ä»¬çš„ç»„ä»¶å±æ€§æœ‰å¾ˆå¤§ä¸åŒçš„ï¼Œä»…ä»…ä¾é ä»£ç ç¼–è¯‘ï¼Œæ— æ³•åšåˆ°ä¸€è‡´ï¼ŒåŒç†ï¼Œä¼—å¤š <code>API</code> ä¹Ÿé¢ä¸´ä¸€æ ·çš„æƒ…å†µã€‚é’ˆå¯¹è¿™æ ·çš„æƒ…å†µï¼Œ<code>Taro</code> é‡‡ç”¨äº†å®šåˆ¶ä¸€å¥—è¿è¡Œæ—¶æ ‡å‡†æ¥æŠ¹å¹³ä¸åŒå¹³å°ä¹‹é—´çš„å·®å¼‚ã€‚</li><li>è¿™ä¸€å¥—æ ‡å‡†ä¸»è¦ä»¥ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼ŒåŒ…æ‹¬æ ‡å‡†è¿è¡Œæ—¶æ¡†æ¶ã€æ ‡å‡†åŸºç¡€ç»„ä»¶åº“ã€æ ‡å‡†ç«¯èƒ½åŠ› APIï¼Œå…¶ä¸­è¿è¡Œæ—¶æ¡†æ¶å’Œ API å¯¹åº” <code>@taro/taro</code>ï¼Œç»„ä»¶åº“å¯¹åº” <code>@tarojs/components</code>ï¼Œé€šè¿‡åœ¨ä¸åŒç«¯å®ç°è¿™äº›æ ‡å‡†ï¼Œä»è€Œè¾¾åˆ°å»å·®å¼‚åŒ–çš„ç›®çš„â€¦</li></ul><p><img src="https://s.poetries.top/gitee/2020/09/245.png" alt="" loading="lazy"> <img src="https://s.poetries.top/gitee/2020/09/246.png" alt="" loading="lazy"></p><h2 id="å››ã€cli-åŸç†åŠä¸åŒç«¯çš„è¿è¡Œæœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#å››ã€cli-åŸç†åŠä¸åŒç«¯çš„è¿è¡Œæœºåˆ¶"><span>å››ã€CLI åŸç†åŠä¸åŒç«¯çš„è¿è¡Œæœºåˆ¶</span></a></h2><h3 id="_4-1-taro-cli-åŒ…" tabindex="-1"><a class="header-anchor" href="#_4-1-taro-cli-åŒ…"><span>4.1 taro-cli åŒ…</span></a></h3><h4 id="_4-1-1-taro-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_4-1-1-taro-å‘½ä»¤"><span>4.1.1 Taro å‘½ä»¤</span></a></h4><blockquote><p><code>taro-cli</code> åŒ…ä½äº <code>Taro</code> å·¥ç¨‹çš„ <code>Packages</code> ç›®å½•ä¸‹ï¼Œé€šè¿‡ <code>npm install -g @tarojs/cli</code> å…¨å±€å®‰è£…åï¼Œå°†ä¼šç”Ÿæˆä¸€ä¸ª <code>Taro</code> å‘½ä»¤ã€‚ä¸»è¦è´Ÿè´£é¡¹ç›®åˆå§‹åŒ–ã€ç¼–è¯‘ã€æ„å»ºç­‰ã€‚ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>Taro</code> ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹æç¤ºâ€¦</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">âœ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> v0.0.63</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  Usage:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">comman</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d&gt; [options]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  Options:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -V,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> number</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -h,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --help</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">          output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> usage</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> information</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  Commands:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [projectName]  Init a project with default templete</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">               Build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> project</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> options</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    update</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">              Update</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> packages</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    help</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [cmd]          display help </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [cmd]...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡Œé¢åŒ…å«äº† Taro æ‰€æœ‰å‘½ä»¤ç”¨æ³•åŠä½œç”¨ã€‚</p><h4 id="_4-1-2-åŒ…ç®¡ç†ä¸å‘å¸ƒ" tabindex="-1"><a class="header-anchor" href="#_4-1-2-åŒ…ç®¡ç†ä¸å‘å¸ƒ"><span>4.1.2 åŒ…ç®¡ç†ä¸å‘å¸ƒ</span></a></h4><ul><li>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ <code>taro-cli</code> åŒ…ä¸ <code>Taro</code> å·¥ç¨‹çš„å…³ç³»ã€‚</li><li>å°† <code>Taro</code> å·¥ç¨‹ <code>Clone</code> ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°å·¥ç¨‹çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼Œæ•´ä½“ç»“æ„è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°çš„ï¼š</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CHANGELOG.md</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> LICENSE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> README.md</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lerna-debug.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> lerna.json</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Lerna</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> é…ç½®æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> package.json</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> packages</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> eslint-config-taro</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> eslint-plugin-taro</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> postcss-plugin-constparse</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> postcss-pxtransform</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-async-await</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-cli</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-components</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-components-rn</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-h5</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-plugin-babel</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-plugin-csso</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-plugin-sass</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-plugin-uglifyjs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-redux</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-redux-h5</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-rn</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-rn-runner</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-router</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-transformer-wx</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-weapp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â””â”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-webpack-runner</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â””â”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yarn.lock...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>Taro</code> é¡¹ç›®ä¸»è¦æ˜¯ç”±ä¸€ç³»åˆ— <code>NPM</code> åŒ…ç»„æˆï¼Œä½äºå·¥ç¨‹çš„ <code>Packages</code> ç›®å½•ä¸‹ã€‚å®ƒçš„åŒ…ç®¡ç†æ–¹å¼å’Œ <code>Babel</code> é¡¹ç›®ä¸€æ ·ï¼Œå°†æ•´ä¸ªé¡¹ç›®ä½œä¸ºä¸€ä¸ª <code>monorepo</code> æ¥è¿›è¡Œç®¡ç†ï¼Œå¹¶ä¸”åŒæ ·ä½¿ç”¨äº†åŒ…ç®¡ç†å·¥å…· <code>Lerna</code></p></blockquote><p><code>Packages</code> ç›®å½•ä¸‹åå‡ ä¸ªåŒ…ä¸­ï¼Œæœ€å¸¸ç”¨çš„é¡¹ç›®åˆå§‹åŒ–ä¸æ„å»ºçš„å‘½ä»¤è¡Œå·¥å…· <code>Taro CLI</code> å°±æ˜¯å…¶ä¸­ä¸€ä¸ªã€‚åœ¨ <code>Taro</code> å·¥ç¨‹æ ¹ç›®å½•è¿è¡Œ <code>lerna publish</code> å‘½ä»¤ä¹‹åï¼Œ<code>lerna.json</code> é‡Œé¢é…ç½®å¥½çš„æ‰€æœ‰çš„åŒ…ä¼šè¢«å‘å¸ƒåˆ° <code>NPM</code> ä¸Š</p><h4 id="_4-1-3-taro-cli-åŒ…çš„ç›®å½•ç»“æ„å¦‚ä¸‹" tabindex="-1"><a class="header-anchor" href="#_4-1-3-taro-cli-åŒ…çš„ç›®å½•ç»“æ„å¦‚ä¸‹"><span>4.1.3 taro-cli åŒ…çš„ç›®å½•ç»“æ„å¦‚ä¸‹</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">./</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å‘½ä»¤è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">              //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-update</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â””â”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro-init</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> package.json</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> node_modules</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> src</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å‘½ä»¤è°ƒç”¨ï¼Œæ ¹æ®</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç±»å‹è°ƒç”¨ä¸åŒçš„è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> babel.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Babel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> babylon.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">      //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> JavaScript</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> è§£æå™¨</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> babylon</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> browser_list.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> autoprefixer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> browsers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> index.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ç›®å½•ååŠå…¥å£æ–‡ä»¶åç›¸å…³é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â””â”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> uglify.js</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> creator.js</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> h5.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ„å»ºh5</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¹³å°ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> project.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å‘½ä»¤è°ƒç”¨ï¼Œåˆå§‹åŒ–é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rn.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ„å»ºReact</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Native</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å¹³å°ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> util</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ä¸€ç³»åˆ—å·¥å…·å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> index.js</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm.js</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â””â”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> resolve_npm_files.js</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â””â”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> weapp.js</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">        //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> æ„å»ºå°ç¨‹åºä»£ç è½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> templates</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           //</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> è„šæ‰‹æ¶æ¨¡ç‰ˆ</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â””â”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> default</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> appjs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> index</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> â””â”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> prod</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> editorconfig</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> eslintrc</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">â”‚Â Â </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     â”œâ”€â”€</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gitignor...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é€šè¿‡ä¸Šé¢çš„ç›®å½•æ ‘å¯ä»¥å‘ç°ï¼Œ<code>taro-cli</code> å·¥ç¨‹çš„æ–‡ä»¶å¹¶ä¸ç®—å¤šï¼Œä¸»è¦ç›®å½•æœ‰ï¼š<code>/bin</code>ã€<code>/src</code>ã€<code>/template</code></p></blockquote><h3 id="_4-2-ç”¨åˆ°çš„æ ¸å¿ƒåº“" tabindex="-1"><a class="header-anchor" href="#_4-2-ç”¨åˆ°çš„æ ¸å¿ƒåº“"><span>4.2 ç”¨åˆ°çš„æ ¸å¿ƒåº“</span></a></h3><ul><li><a href="https://github.com/tj/commander.js/" target="_blank" rel="noopener noreferrer">tj/commander.js</a> Node.js - å‘½ä»¤è¡Œæ¥å£å…¨é¢çš„è§£å†³æ–¹æ¡ˆ</li><li><a href="https://github.com/jprichardson/node-fs-extra" target="_blank" rel="noopener noreferrer">jprichardson/node-fs-extra</a> - åœ¨ Node.js çš„ fs åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›æ–°çš„æ–¹æ³•ï¼Œæ›´å¥½ç”¨ï¼Œè¿˜å¯ä»¥æ‹·è´æ¨¡æ¿ã€‚</li><li><a href="https://github.com/chalk/chalk" target="_blank" rel="noopener noreferrer">chalk/chalk</a> - å¯ä»¥ç”¨äºæ§åˆ¶ç»ˆç«¯è¾“å‡ºå­—ç¬¦ä¸²çš„æ ·å¼</li><li><a href="https://github.com/SBoudrias/Inquirer.js/" target="_blank" rel="noopener noreferrer">SBoudrias/Inquirer.js - Node.js</a> å‘½ä»¤è¡Œäº¤äº’å·¥å…·ï¼Œé€šç”¨çš„å‘½ä»¤è¡Œç”¨æˆ·ç•Œé¢é›†åˆï¼Œå¯ä»¥å’Œç”¨æˆ·è¿›è¡Œäº¤äº’</li><li><a href="https://github.com/sindresorhus/ora" target="_blank" rel="noopener noreferrer">sindresorhus/ora</a> - å®ç°åŠ è½½ä¸­çš„çŠ¶æ€æ˜¯ä¸€ä¸ª Loading åŠ å‰é¢è½¬èµ·æ¥çš„å°åœˆåœˆï¼ŒæˆåŠŸäº†æ˜¯ä¸€ä¸ª Success åŠ å‰é¢ä¸€ä¸ªå°é’©é’©</li><li><a href="https://github.com/sboudrias/mem-fs-editor" target="_blank" rel="noopener noreferrer">SBoudrias/mem-fs-editor</a> - æä¾›ä¸€ç³»åˆ— APIï¼Œæ–¹ä¾¿æ“ä½œæ¨¡æ¿æ–‡ä»¶</li><li><a href="https://github.com/shelljs/shelljs" target="_blank" rel="noopener noreferrer">shelljs/shelljs </a>- ShellJS æ˜¯ Node.js æ‰©å±•ï¼Œç”¨äºå®ç° Unix shell å‘½ä»¤æ‰§è¡Œã€‚</li></ul><h3 id="_4-3-taro-init" tabindex="-1"><a class="header-anchor" href="#_4-3-taro-init"><span>4.3 Taro Init</span></a></h3><figure><img src="https://s.poetries.top/gitee/2020/09/247.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>å½“æˆ‘ä»¬å…¨å±€å®‰è£… <code>taro-cli</code> åŒ…ä¹‹åï¼Œæˆ‘ä»¬çš„å‘½ä»¤è¡Œé‡Œå°±æœ‰äº† Taro å‘½ä»¤</p></blockquote><ul><li>é‚£ä¹ˆ <code>Taro</code> å‘½ä»¤æ˜¯æ€æ ·æ·»åŠ è¿›å»çš„å‘¢ï¼Ÿå…¶åŸå› åœ¨äº <code>package.json</code> é‡Œé¢çš„ <code>bin </code>å­—æ®µï¼š</li></ul><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bin&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;taro&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bin/taro&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç æŒ‡å®šï¼ŒTaro å‘½ä»¤å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸º <code>bin/taro</code> ã€‚NPM ä¼šå¯»æ‰¾è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨ <code>[prefix]/bin</code> ç›®å½•ä¸‹å»ºç«‹ç¬¦å·é“¾æ¥ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒTaro ä¼šå»ºç«‹ç¬¦å·é“¾æ¥ <code>[prefix]/bin/taro</code>ã€‚ç”±äº <code>[prefix]/bin </code>ç›®å½•ä¼šåœ¨è¿è¡Œæ—¶åŠ å…¥ç³»ç»Ÿçš„ PATH å˜é‡ï¼Œå› æ­¤åœ¨è¿è¡Œ NPM æ—¶ï¼Œå°±å¯ä»¥ä¸å¸¦è·¯å¾„ï¼Œç›´æ¥é€šè¿‡å‘½ä»¤æ¥è°ƒç”¨è¿™äº›è„šæœ¬ã€‚</p><ul><li>å…³äº<code>prefix</code>ï¼Œå¯ä»¥é€šè¿‡<code>npm config get prefix</code>è·å–ã€‚</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> npm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> prefix</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/usr/local</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¸‹åˆ—å‘½ä»¤å¯ä»¥æ›´åŠ æ¸…æ™°çš„çœ‹åˆ°å®ƒä»¬ä¹‹é—´çš„ç¬¦å·é“¾æ¥â€¦</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -al</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro`</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lrwxr-xr-x</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chengshuai</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  admin</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  40</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 15</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 10:51</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/bin/taro</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">../lib/node_modules/@tarojs/cli/bin/taro...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-1-å‘½ä»¤å…³è”ä¸å‚æ•°è§£æ" tabindex="-1"><a class="header-anchor" href="#_4-3-1-å‘½ä»¤å…³è”ä¸å‚æ•°è§£æ"><span>4.3.1 å‘½ä»¤å…³è”ä¸å‚æ•°è§£æ</span></a></h4><blockquote><p>è¿™é‡Œå°±ä¸å¾—ä¸æåˆ°ä¸€ä¸ªæœ‰ç”¨çš„åŒ…ï¼š<code>tj/commander.js</code> ï¼Œ<code>Node.js</code> å‘½ä»¤è¡Œæ¥å£å…¨é¢çš„è§£å†³æ–¹æ¡ˆï¼Œçµæ„Ÿæ¥è‡ªäº Rubyâ€™s commanderã€‚å¯ä»¥è‡ªåŠ¨çš„è§£æå‘½ä»¤å’Œå‚æ•°ï¼Œåˆå¹¶å¤šé€‰é¡¹ï¼Œå¤„ç†çŸ­å‚ç­‰ç­‰ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œä¸Šæ‰‹ç®€å•</p></blockquote><p>æ›´ä¸»è¦çš„ï¼Œ<code>commander</code> æ”¯æŒ <code>Git</code> é£æ ¼çš„å­å‘½ä»¤å¤„ç†ï¼Œå¯ä»¥æ ¹æ®å­å‘½ä»¤è‡ªåŠ¨å¼•å¯¼åˆ°ä»¥ç‰¹å®šæ ¼å¼å‘½åçš„å‘½ä»¤æ‰§è¡Œæ–‡ä»¶ï¼Œæ–‡ä»¶åçš„æ ¼å¼æ˜¯ <code>[command]-[subcommand]</code>ï¼Œä¾‹å¦‚</p><ul><li><code>taro init</code> =&gt; <code>taro-init</code></li><li><code>taro build</code> =&gt; <code>taro-build</code></li><li><code>/bin/taro</code> æ–‡ä»¶å†…å®¹ä¸å¤šï¼Œæ ¸å¿ƒä»£ç ä¹Ÿå°±é‚£å‡ è¡Œ <code>.command()</code> å‘½ä»¤ï¼š</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#! /usr/bin/env node</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">const</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> program</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;commander&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">const</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {getPkgVersion}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;../src/util&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">program</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  .version(getPkgVersion(</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  .usage(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;&lt;command&gt; [options]&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  .command(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;init [projectName]&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Init a project with default templete&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  .command(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;build&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Build a project with options&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  .command(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;update&#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Update packages of taro&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  .parse(process.argv</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é€šè¿‡ä¸Šé¢ä»£ç å¯ä»¥å‘ç°ï¼Œ<code>init</code>ï¼Œ<code>build</code> ï¼Œ<code>update</code>ç­‰å‘½ä»¤éƒ½æ˜¯é€šè¿‡<code>.command(name, description)</code>æ–¹æ³•å®šä¹‰çš„ï¼Œç„¶åé€šè¿‡ <code>.parse(arg)</code> æ–¹æ³•è§£æå‚æ•°</p></blockquote><h4 id="_4-3-2-å‚æ•°è§£æåŠä¸ç”¨æˆ·äº¤äº’" tabindex="-1"><a class="header-anchor" href="#_4-3-2-å‚æ•°è§£æåŠä¸ç”¨æˆ·äº¤äº’"><span>4.3.2 å‚æ•°è§£æåŠä¸ç”¨æˆ·äº¤äº’</span></a></h4><ul><li><code>commander</code> åŒ…å¯ä»¥è‡ªåŠ¨è§£æå‘½ä»¤å’Œå‚æ•°ï¼Œåœ¨é…ç½®å¥½å‘½ä»¤ä¹‹åï¼Œè¿˜èƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆ <code>help</code>ï¼ˆå¸®åŠ©ï¼‰å‘½ä»¤å’Œ<code> version</code>ï¼ˆç‰ˆæœ¬æŸ¥çœ‹ï¼‰ å‘½ä»¤ã€‚å¹¶ä¸”é€šè¿‡<code>program.args</code>ä¾¿å¯ä»¥è·å–å‘½ä»¤è¡Œçš„å‚æ•°ï¼Œç„¶åå†æ ¹æ®å‚æ•°æ¥è°ƒç”¨ä¸åŒçš„è„šæœ¬ã€‚</li><li>ä½†å½“æˆ‘ä»¬è¿è¡Œ <code>taro init</code> å‘½ä»¤åï¼Œå¦‚ä¸‹æ‰€ç¤ºçš„å‘½ä»¤è¡Œäº¤äº’åˆæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿâ€¦</li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> taroDemo</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> å³å°†åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Need</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> help?</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Go</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> issue:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/NervJS/taro/issues/new</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Taro</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> v0.0.50</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">? è¯·è¾“å…¥é¡¹ç›®ä»‹ç»ï¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">? è¯·é€‰æ‹©æ¨¡æ¿ é»˜è®¤æ¨¡æ¿...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œä½¿ç”¨çš„æ˜¯ <code>SBoudrias/Inquirer.js</code> æ¥å¤„ç†å‘½ä»¤è¡Œäº¤äº’ã€‚</p><p>ç”¨æ³•å…¶å®å¾ˆç®€å•</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> inquirer</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> require</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;inquirer&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// npm i inquirer -D</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">typeof</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> conf</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">description</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> !==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;string&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">      prompts</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">push</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        type</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;input&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;description&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        message</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;è¯·è¾“å…¥é¡¹ç›®ä»‹ç»ï¼&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>prompt()</code>æ¥å—ä¸€ä¸ªé—®é¢˜å¯¹è±¡çš„æ•°æ®ï¼Œåœ¨ç”¨æˆ·ä¸ç»ˆç«¯äº¤äº’è¿‡ç¨‹ä¸­ï¼Œå°†ç”¨æˆ·çš„è¾“å…¥å­˜æ”¾åœ¨ä¸€ä¸ªç­”æ¡ˆå¯¹è±¡ä¸­ï¼Œç„¶åè¿”å›ä¸€ä¸ª<code>Promise</code>ï¼Œé€šè¿‡<code>then()</code>è·å–åˆ°è¿™ä¸ªç­”æ¡ˆå¯¹è±¡ã€‚ å€Ÿæ­¤ï¼Œæ–°é¡¹ç›®çš„åç§°ã€ç‰ˆæœ¬å·ã€æè¿°ç­‰ä¿¡æ¯å¯ä»¥ç›´æ¥é€šè¿‡ç»ˆç«¯äº¤äº’æ’å…¥åˆ°é¡¹ç›®æ¨¡æ¿ä¸­ï¼Œå®Œå–„äº¤äº’æµç¨‹ã€‚</li><li>å½“ç„¶ï¼Œäº¤äº’çš„é—®é¢˜ä¸ä»…é™äºæ­¤ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±é¡¹ç›®çš„æƒ…å†µï¼Œæ·»åŠ æ›´å¤šçš„äº¤äº’é—®é¢˜ã€‚<code>inquirer.js </code>å¼ºå¤§çš„åœ°æ–¹åœ¨äºï¼Œæ”¯æŒå¾ˆå¤šç§äº¤äº’ç±»å‹ï¼Œé™¤äº†ç®€å•çš„inputï¼Œè¿˜æœ‰<code>confirm</code>ã€<code>list</code>ã€<code>password</code>ã€<code>checkbox</code>ç­‰ï¼Œå…·ä½“å¯ä»¥å‚è§é¡¹ç›®çš„å·¥ç¨‹ READMEã€‚ æ­¤å¤–ï¼Œä½ åœ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„è¿‡ç¨‹ä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>sindresorhus/ora</code> æ¥æ·»åŠ ä¸€ä¸‹ <code>Loading</code> æ•ˆæœã€‚ä½¿ç”¨ <code>chalk/chalk</code> ç»™ç»ˆç«¯çš„è¾“å‡ºæ·»åŠ å„ç§æ ·å¼â€¦</li></ul><h4 id="_4-3-3-æ¨¡ç‰ˆæ–‡ä»¶æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_4-3-3-æ¨¡ç‰ˆæ–‡ä»¶æ“ä½œ"><span>4.3.3 æ¨¡ç‰ˆæ–‡ä»¶æ“ä½œ</span></a></h4><p><strong>æœ€åå°±æ˜¯æ¨¡ç‰ˆæ–‡ä»¶æ“ä½œäº†ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å¤§å—ï¼š</strong></p><ul><li>å°†è¾“å…¥çš„å†…å®¹æ’å…¥åˆ°æ¨¡æ¿ä¸­</li><li>æ ¹æ®å‘½ä»¤åˆ›å»ºå¯¹åº”ç›®å½•ç»“æ„ï¼Œcopy æ–‡ä»¶</li><li>æ›´æ–°å·²å­˜åœ¨æ–‡ä»¶å†…å®¹</li></ul><blockquote><p>è¿™äº›æ“ä½œåŸºæœ¬éƒ½æ˜¯åœ¨ <code>/template/index.js</code> æ–‡ä»¶é‡Œã€‚ è¿™é‡Œè¿˜ç”¨åˆ°äº† <code>shelljs/shelljs</code> æ‰§è¡Œ <code>shell</code> è„šæœ¬ï¼Œå¦‚åˆå§‹åŒ– <code>Gitï¼š git init</code>ï¼Œé¡¹ç›®åˆå§‹åŒ–ä¹‹åå®‰è£…ä¾èµ– <code>npm install</code>ç­‰</p></blockquote><p><strong>æ‹·è´æ¨¡æ¿æ–‡ä»¶</strong></p><blockquote><p>æ‹·è´æ¨¡ç‰ˆæ–‡ä»¶ä¸»è¦æ˜¯ä½¿ç”¨ <code>jprichardson/node-fs-extra </code>çš„ <code>copyTpl()</code>æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä½¿ç”¨ <code>ejs</code> æ¨¡æ¿è¯­æ³•ï¼Œå¯ä»¥å°†è¾“å…¥çš„å†…å®¹æ’å…¥åˆ°æ¨¡ç‰ˆçš„å¯¹åº”ä½ç½®ï¼š</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">fs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">copyTpl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  project</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">projectPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;project.config.json&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">description</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">projectName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-taro-build" tabindex="-1"><a class="header-anchor" href="#_4-4-taro-build"><span>4.4 Taro Build</span></a></h3><ul><li><code>taro build</code> å‘½ä»¤æ˜¯æ•´ä¸ª <code>Taro</code> é¡¹ç›®çš„çµé­‚å’Œæ ¸å¿ƒï¼Œä¸»è¦è´Ÿè´£å¤šç«¯ä»£ç ç¼–è¯‘ï¼ˆH5ï¼Œå°ç¨‹åºï¼Œ<code>React Native </code>ç­‰ï¼‰ã€‚</li><li><code>Taro</code> å‘½ä»¤çš„å…³è”ï¼Œå‚æ•°è§£æç­‰å’Œ <code>taro init</code> å…¶å®æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œé‚£ä¹ˆæœ€å…³é”®çš„ä»£ç è½¬æ¢éƒ¨åˆ†æ˜¯æ€æ ·å®ç°çš„å‘¢ï¼Ÿâ€¦</li></ul><h4 id="_4-4-1-ç¼–è¯‘å·¥ä½œæµä¸æŠ½è±¡è¯­æ³•æ ‘-ast" tabindex="-1"><a class="header-anchor" href="#_4-4-1-ç¼–è¯‘å·¥ä½œæµä¸æŠ½è±¡è¯­æ³•æ ‘-ast"><span>4.4.1 ç¼–è¯‘å·¥ä½œæµä¸æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰</span></a></h4><blockquote><p>Taro çš„æ ¸å¿ƒéƒ¨åˆ†å°±æ˜¯å°†ä»£ç ç¼–è¯‘æˆå…¶ä»–ç«¯ï¼ˆH5ã€å°ç¨‹åºã€React Native ç­‰ï¼‰ä»£ç ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå°†ä¸€ç§ç»“æ„åŒ–è¯­è¨€çš„ä»£ç ç¼–è¯‘æˆå¦ä¸€ç§ç±»ä¼¼çš„ç»“æ„åŒ–è¯­è¨€çš„ä»£ç åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤</p></blockquote><figure><img src="https://s.poetries.top/gitee/2020/09/248.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é¦–å…ˆæ˜¯ <code>Parse</code>ï¼Œå°†ä»£ç è§£æï¼ˆ<code>Parse</code>ï¼‰æˆæŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntex Treeï¼‰ï¼Œç„¶åå¯¹ <code>AST </code>è¿›è¡Œéå†ï¼ˆ<code>traverse</code>ï¼‰å’Œæ›¿æ¢(<code>replace</code>)ï¼ˆè¿™å¯¹äºå‰ç«¯æ¥è¯´å…¶å®å¹¶ä¸é™Œç”Ÿï¼Œå¯ä»¥ç±»æ¯” <code>DOM</code> æ ‘çš„æ“ä½œï¼‰ï¼Œæœ€åæ˜¯ç”Ÿæˆï¼ˆ<code>generate</code>ï¼‰ï¼Œæ ¹æ®æ–°çš„ <code>AST</code> ç”Ÿæˆç¼–è¯‘åçš„ä»£ç â€¦</p><h4 id="_4-4-2-babel-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_4-4-2-babel-æ¨¡å—"><span>4.4.2 Babel æ¨¡å—</span></a></h4><p><code>Babel</code> æ˜¯ä¸€ä¸ªé€šç”¨çš„å¤šåŠŸèƒ½çš„ JavaScriptç¼–è¯‘å™¨ï¼Œæ›´ç¡®åˆ‡åœ°è¯´æ˜¯æºç åˆ°æºç çš„ç¼–è¯‘å™¨ï¼Œé€šå¸¸ä¹Ÿå«åšè½¬æ¢ç¼–è¯‘å™¨ï¼ˆtranspilerï¼‰ã€‚ æ„æ€æ˜¯è¯´ä½ ä¸º Babel æä¾›ä¸€äº› JavaScript ä»£ç ï¼ŒBabel æ›´æ”¹è¿™äº›ä»£ç ï¼Œç„¶åè¿”å›ç»™ä½ æ–°ç”Ÿæˆçš„ä»£ç â€¦</p><h4 id="_4-4-3-è§£æé¡µé¢-config-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_4-4-3-è§£æé¡µé¢-config-é…ç½®"><span>4.4.3 è§£æé¡µé¢ Config é…ç½®</span></a></h4><blockquote><p>åœ¨ä¸šåŠ¡ä»£ç ç¼–è¯‘æˆå°ç¨‹åºçš„ä»£ç è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€æ­¥æ˜¯å°†é¡µé¢å…¥å£ JS çš„ Config å±æ€§è§£æå‡ºæ¥ï¼Œå¹¶å†™å…¥ <code>*.json</code> æ–‡ä»¶ï¼Œä¾›å°ç¨‹åºä½¿ç”¨ã€‚é‚£ä¹ˆè¿™ä¸€æ­¥æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿè¿™é‡Œå°†è¿™éƒ¨åˆ†åŠŸèƒ½çš„å…³é”®ä»£ç æŠ½å–å‡ºæ¥ï¼š</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1. babel-traverseæ–¹æ³•ï¼Œ éå†å’Œæ›´æ–°èŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">traverse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ast</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  ClassProperty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">astPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// éå†ç±»çš„å±æ€§å£°æ˜</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> node</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> astPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">node</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;config&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç±»çš„å±æ€§åä¸º config</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      configObj</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> traverseObjectNode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">      astPath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å°†è¯¥æ–¹æ³•ç§»é™¤æ‰</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 2. éå†ï¼Œè§£æä¸º JSON å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> traverseObjectNode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;ClassProperty&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;ObjectProperty&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> properties</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">properties</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      obj</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">      properties</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> traverseObjectNode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      })</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> obj</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;ObjectExpression&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> properties</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">properties</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    obj</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    properties</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // const t = require(&#39;babel-types&#39;)  AST èŠ‚ç‚¹çš„ Lodash å¼å·¥å…·åº“</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> key</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isIdentifier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> traverseObjectNode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    })</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> obj</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;ArrayExpression&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">elements</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> traverseObjectNode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;"> ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äº”ã€taro-ç»„ä»¶åº“åŠ-api-çš„è®¾è®¡ä¸é€‚é…" tabindex="-1"><a class="header-anchor" href="#äº”ã€taro-ç»„ä»¶åº“åŠ-api-çš„è®¾è®¡ä¸é€‚é…"><span>äº”ã€Taro ç»„ä»¶åº“åŠ API çš„è®¾è®¡ä¸é€‚é…</span></a></h2><h3 id="_5-1-å¤šç«¯å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_5-1-å¤šç«¯å·®å¼‚"><span>5.1 å¤šç«¯å·®å¼‚</span></a></h3><h4 id="_5-1-1-ç»„ä»¶å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_5-1-1-ç»„ä»¶å·®å¼‚"><span>5.1.1 ç»„ä»¶å·®å¼‚</span></a></h4><p>å°ç¨‹åºã€H5 ä»¥åŠå¿«åº”ç”¨éƒ½å¯ä»¥åˆ’åˆ†ä¸º XML ç±»ï¼ŒReact Native å½’ä¸º JSX ç±»ï¼Œä¸¤ç§è¯­è¨€é£ç‰›é©¬ä¸ç›¸åŠï¼Œç»™é€‚é…è®¾ç½®äº†éå¸¸å¤§çš„éšœç¢ã€‚XML ç±»æœ‰ä¸ªæ˜æ˜¾çš„ç‰¹ç‚¹æ˜¯å…³æ³¨ç‚¹åˆ†ç¦»ï¼ˆSeparation of Concernsï¼‰ï¼Œå³è¯­ä¹‰å±‚ï¼ˆXMLï¼‰ã€è§†è§‰å±‚ï¼ˆCSSï¼‰ã€äº¤äº’å±‚ï¼ˆJavaScriptï¼‰ä¸‰è€…åˆ†ç¦»çš„æ¾è€¦åˆå½¢å¼ï¼ŒJSX ç±»åˆ™è¦æŠŠä¸‰è€…æ··ä¸ºä¸€ä½“ï¼Œç”¨è„šæœ¬æ¥åŒ…æ½ä¸‰è€…çš„å·¥ä½œâ€¦</p><p><strong>ä¸åŒç«¯çš„ç»„ä»¶çš„å·®å¼‚è¿˜ä½“ç°åœ¨å®šåˆ¶ç¨‹åº¦ä¸Š</strong></p><ul><li>H5 æ ‡ç­¾ï¼ˆç»„ä»¶ï¼‰æä¾›æœ€åŸºç¡€çš„åŠŸèƒ½â€”â€”å¸ƒå±€ã€è¡¨å•ã€åª’ä½“ã€å›¾å½¢ç­‰ç­‰ï¼›</li><li>å°ç¨‹åºç»„ä»¶ç›¸å¯¹ H5 æœ‰äº†ä¸€å®šç¨‹åº¦çš„å®šåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå°ç¨‹åºç»„ä»¶çœ‹ä½œä¸€å¥—ç±»ä¼¼äº H5 çš„ UI ç»„ä»¶åº“ï¼›</li><li>React Native ç«¯ç»„ä»¶ä¹ŸåŒæ ·å¦‚æ­¤ï¼Œè€Œä¸”åŸºæœ¬æ˜¯ä¸“â€œç»„â€ä¸“ç”¨çš„ï¼Œæ¯”å¦‚è¦è§¦å‘ç‚¹å‡»äº‹ä»¶å°±å¾—ç”¨ Touchable æˆ–è€… Text ç»„ä»¶ï¼Œè¦æ¸²æŸ“æ–‡æœ¬å°±å¾—ç”¨ Text ç»„ä»¶ï¼ˆè™½ç„¶å°ç¨‹åºä¹Ÿæä¾›äº† Text ç»„ä»¶ï¼Œä½†å®ƒçš„æ–‡æœ¬ä»ç„¶å¯ä»¥ç›´æ¥æ”¾åˆ° view ä¹‹ç±»çš„ç»„ä»¶é‡Œï¼‰â€¦</li></ul><h4 id="_5-1-2-api-å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_5-1-2-api-å·®å¼‚"><span>5.1.2 API å·®å¼‚</span></a></h4><p><strong>å„ç«¯ API çš„å·®å¼‚å…·æœ‰å®šåˆ¶åŒ–ã€æ¥å£ä¸ä¸€ã€èƒ½åŠ›é™åˆ¶çš„ç‰¹ç‚¹</strong></p><ul><li>å®šåˆ¶åŒ–ï¼šå„ç«¯æ‰€æä¾›çš„ API éƒ½æ˜¯ç»è¿‡é‡èº«æ‰“é€ çš„ï¼Œæ¯”å¦‚å°ç¨‹åºçš„å¼€æ”¾æ¥å£ç±» APIï¼Œå®Œå…¨æ˜¯é’ˆå¯¹å°ç¨‹åºæ‰€å¤„çš„å¾®ä¿¡ç¯å¢ƒæ‰“é€ çš„ï¼Œå…¶æä¾›çš„åŠŸèƒ½ä»¥åŠå¤–åœ¨è¡¨ç°éƒ½å·²ç”±æ¡†æ¶æä¾›å®ç°ï¼Œç”¨æˆ·ä¸Šæ‰‹å¯ç”¨ï¼Œæ¯‹é¡»å…³å¿ƒå†…éƒ¨å®ç°ã€‚</li><li>æ¥å£ä¸ä¸€ï¼šç›¸åŒçš„åŠŸèƒ½ï¼Œåœ¨ä¸åŒç«¯ä¸‹çš„è°ƒç”¨æ–¹å¼ä»¥åŠè°ƒç”¨å‚æ•°ç­‰ä¹Ÿä¸ä¸€æ ·ï¼Œæ¯”å¦‚ <code>socket</code>ï¼Œå°ç¨‹åºä¸­ç”¨ <code>wx.connectSocket</code> æ¥è¿æ¥ï¼Œ<code>H5</code> åˆ™ç”¨ <code>new WebSocket()</code> æ¥è¿æ¥ï¼Œè¿™æ ·çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å¾ˆå¤šä¸ªã€‚</li><li>èƒ½åŠ›é™åˆ¶ï¼šå„ç«¯ä¹‹é—´çš„å·®å¼‚å¯ä»¥è¿›è¡Œå®šåˆ¶é€‚é…ï¼Œç„¶è€Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ <code>API</code>ï¼ˆæ­¤å¤„ç‰¹æŒ‡å°ç¨‹åº <code>API</code>ï¼Œå› ä¸ºå¤šç«¯é€‚é…æ˜¯å‘å°ç¨‹åºçœ‹é½çš„ï¼‰åœ¨å„ä¸ªç«¯éƒ½èƒ½é€šè¿‡å®šåˆ¶é€‚é…æ¥å®ç°ï¼Œå› ä¸ºä¸åŒç«¯æ‰€èƒ½æä¾›çš„ç«¯èƒ½åŠ›â€œå¤§å¼‚å°åŒâ€ï¼Œè¿™æ˜¯åœ¨é€‚é…è¿‡ç¨‹ä¸­ä¸å¯æŠ—æ‹’ã€ä¸å¯æŠ¹å¹³çš„å·®å¼‚â€¦</li></ul><h3 id="_5-2-å¤šç«¯é€‚é…" tabindex="-1"><a class="header-anchor" href="#_5-2-å¤šç«¯é€‚é…"><span>5.2 å¤šç«¯é€‚é…</span></a></h3><h4 id="_5-2-1-æ ·å¼å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_5-2-1-æ ·å¼å¤„ç†"><span>5.2.1 æ ·å¼å¤„ç†</span></a></h4><p>H5 ç«¯ä½¿ç”¨å®˜æ–¹æä¾›çš„ WEUI è¿›è¡Œé€‚é…ï¼ŒReact Native ç«¯åˆ™åœ¨ç»„ä»¶å†…æ·»åŠ æ ·å¼ï¼Œå¹¶é€šè¿‡è„šæœ¬æ¥æ§åˆ¶ä¸€äº›çŠ¶æ€ç±»çš„æ ·å¼ï¼Œæ¡†æ¶æ ¸å¿ƒåœ¨ç¼–è¯‘çš„æ—¶å€™æŠŠæºä»£ç çš„ class æ‰€æŒ‡å‘çš„æ ·å¼é€šè¿‡ css-to-react-native è¿›è¡Œè½¬è¯‘ï¼Œæ‰€å¾— StyleSheet æ ·å¼ä¼ å…¥ç»„ä»¶çš„ style å‚æ•°ï¼Œç»„ä»¶å†…éƒ¨ä¼šå¯¹æ ·å¼è¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆçš„æ ·å¼â€¦</p><figure><img src="https://s.poetries.top/gitee/2020/09/248.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>ä¸ºä»€ä¹ˆéœ€è¦å¯¹æ ·å¼è¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼Ÿ</strong></p><blockquote><p>éƒ¨åˆ†ç»„ä»¶æ˜¯ç›´æ¥æŠŠä¼ å…¥ <code>style</code> çš„æ ·å¼èµ‹ç»™æœ€å¤–å±‚çš„ <code>React Native</code> åŸç”Ÿç»„ä»¶ï¼Œä½†éƒ¨åˆ†ç»è¿‡å±‚å±‚å°è£…çš„ç»„ä»¶åˆ™ä¸ç„¶ï¼Œæˆ‘ä»¬è¦æŠŠå®¹å™¨æ ·å¼ã€å†…éƒ¨æ ·å¼å’Œæ–‡æœ¬æ ·å¼ç¦»æã€‚ä¸ºäº†æ–¹ä¾¿è§£é‡Šï¼Œæˆ‘ä»¬æŠŠè¿™ç±»ç»„ä»¶ç®€åŒ–ä¸ºä»¥ä¸‹çš„å½¢å¼ï¼š</p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> style</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">wrapperStyle</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> style</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">containerStyle</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> style</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">textStyle</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Hello World&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å‡è®¾ç»„ä»¶æœ‰æ ·å¼ <code>margin-top</code>ã€<code>background-color</code> å’Œ <code>font-size</code>ï¼Œè½¬è¯‘ä¼ å…¥ç»„ä»¶åï¼Œå°±è¦æŠŠåˆ†åˆ«æŠŠå®ƒä»¬ä¼ åˆ°<code> wrapperStyle</code>ã€<code>containerStyle</code> å’Œ <code>textStyle</code>ï¼Œå¯å‚è€ƒ <code>ScrollView</code> çš„ <code>style</code> å’Œ <code>contentContainerStyle</code>â€¦</p></blockquote><h4 id="_5-2-2-ç»„ä»¶å°è£…" tabindex="-1"><a class="header-anchor" href="#_5-2-2-ç»„ä»¶å°è£…"><span>5.2.2 ç»„ä»¶å°è£…</span></a></h4><blockquote><p>ç»„ä»¶çš„å°è£…åˆ™æ˜¯ä¸€ä¸ªâ€œä»¿åˆ¶â€çš„è¿‡ç¨‹ï¼Œåˆ©ç”¨ç«¯æä¾›çš„åŸææ–™ï¼ŒåŠ å·¥æˆé€šç”¨çš„ç»„ä»¶ï¼Œæš´éœ²ç›¸å¯¹ç»Ÿä¸€çš„è°ƒç”¨æ–¹å¼ã€‚æˆ‘ä»¬ç”¨ <code>&lt;Button /&gt;</code> è¿™ä¸ªç»„ä»¶æ¥ä¸¾ä¾‹ï¼Œåœ¨å°ç¨‹åºç«¯å®ƒä¹Ÿè®¸æ˜¯é•¿è¿™æ ·å­çš„</p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> size</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;mini&quot;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> plain</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">={{plain}}</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> loading</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">={{loading}}</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> hover-class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;you-hover-me&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>å¦‚æœè¦å®ç° <code>H5</code> ç«¯è¿™ä¹ˆä¸€ä¸ªæŒ‰é’®ï¼Œå¤§æ¦‚ä¼šåƒä¸‹é¢è¿™æ ·ï¼Œåœ¨ç»„ä»¶å†…éƒ¨æŠŠå°ç¨‹åºçš„æŒ‰é’®ç‰¹æ€§å®ç°ä¸€éï¼Œç„¶åæš´éœ²è·Ÿå°ç¨‹åºä¸€è‡´çš„è°ƒç”¨æ–¹å¼ï¼Œå°±å®Œæˆäº† <code>H5</code> ç«¯ä¸€ä¸ªç»„ä»¶çš„è®¾è®¡</p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  {</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">omit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;hoverClass&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;onTouchStart&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;onTouchEnd&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">  className</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cls</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">  style</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">style</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">  onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">  disabled</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">disabled</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">  onTouchStart</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">_onTouchStart</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">  onTouchEnd</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">_onTouchEnd</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">loading</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">i</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;weui-loading&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…¶ä»–ç«¯çš„ç»„ä»¶é€‚é…ç›¸å¯¹ H5 ç«¯æ¥è¯´ä¼šæ›´æ›²æŠ˜å¤æ‚ä¸€äº›ï¼Œå› ä¸º H5 è·Ÿå°ç¨‹åºçš„è¯­è¨€è¾ƒä¸ºç›¸ä¼¼ï¼Œè€Œå…¶ä»–ç«¯éœ€è¦æ•´åˆç‰¹å®šç«¯çš„å„ç§ç»„ä»¶ï¼Œä»¥åŠåˆ©ç”¨ç«¯ç»„ä»¶çš„ç‰¹æ€§æ¥å®ç°ï¼Œæ¯”å¦‚åœ¨ React Native ä¸­å®ç°è¿™ä¸ªæŒ‰é’®ï¼Œåˆ™éœ€è¦ç”¨åˆ° <code>&lt;Touchable* /&gt;</code>ã€<code>&lt;View /&gt;</code>ã€<code>&lt;Text /&gt;</code>ï¼Œè¦å®ç°åŠ¨ç”»åˆ™éœ€è¦ç”¨ä¸Š <code>&lt;Animated.View /&gt;</code>ï¼Œè¿˜æœ‰å°±æ˜¯ç›¸å¯¹äº H5 å’Œå°ç¨‹åºæ¯”è¾ƒå®¹æ˜“å®ç°çš„ touch äº‹ä»¶ï¼Œåœ¨ React Native ä¸­åˆ™éœ€è¦ç”¨ä¸Š PanResponder æ¥è¿›è¡Œâ€œä»¿çœŸâ€ï¼Œæ€»ä¹‹å°±æ˜¯ï¼Œå› â€œç«¯â€åˆ¶å®œï¼Œä¸€åˆ‡ä¸ºäº†æœ€ååªéœ€ä¸€è¡Œä»£ç é€šè¡Œå¤šç«¯ï¼</li><li>é™¤äº†å±æ€§æ”¯æŒå¤–ï¼Œäº‹ä»¶å›è°ƒçš„å‚æ•°ä¹Ÿéœ€è¦è¿›è¡Œç»Ÿä¸€ï¼Œä¸ºæ­¤ï¼Œéœ€è¦åœ¨å†…éƒ¨è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚ Input çš„ <code>onInput</code> äº‹ä»¶ï¼Œéœ€è¦ç»™å®ƒé€ ä¸€ä¸ªç±»ä¼¼å°ç¨‹åºç›¸åŒäº‹ä»¶çš„å›è°ƒå‚æ•°ï¼Œæ¯”å¦‚ <code>{ target: { value: text }</code>, <code>detail: { value: text }</code> }ï¼Œè¿™æ ·ï¼Œå¼€å‘è€…ä»¬å°±å¯ä»¥åƒä¸‹é¢è¿™æ ·å¤„ç†å›è°ƒäº‹ä»¶ï¼Œæ— éœ€å…³å¿ƒä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆâ€¦</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> onInputHandler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ({ </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">detail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">detail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…­ã€jsx-è½¬æ¢å¾®ä¿¡å°ç¨‹åºæ¨¡æ¿çš„å®ç°" tabindex="-1"><a class="header-anchor" href="#å…­ã€jsx-è½¬æ¢å¾®ä¿¡å°ç¨‹åºæ¨¡æ¿çš„å®ç°"><span>å…­ã€JSX è½¬æ¢å¾®ä¿¡å°ç¨‹åºæ¨¡æ¿çš„å®ç°</span></a></h2><h3 id="_6-1-ä»£ç çš„æœ¬è´¨" tabindex="-1"><a class="header-anchor" href="#_6-1-ä»£ç çš„æœ¬è´¨"><span>6.1 ä»£ç çš„æœ¬è´¨</span></a></h3><blockquote><p>ä¸ç®¡æ˜¯ä»»æ„è¯­è¨€çš„ä»£ç ï¼Œå…¶å®å®ƒä»¬éƒ½æœ‰ä¸¤ä¸ªå…±åŒç‚¹</p></blockquote><ul><li>å®ƒä»¬éƒ½æ˜¯ç”±å­—ç¬¦ä¸²æ„æˆçš„æ–‡æœ¬</li><li>å®ƒä»¬éƒ½è¦éµå¾ªè‡ªå·±çš„è¯­è¨€è§„èŒƒ</li></ul><p>ç¬¬ä¸€ç‚¹å¾ˆå¥½ç†è§£ï¼Œæ—¢ç„¶ä»£ç æ˜¯å­—ç¬¦ä¸²æ„æˆçš„ï¼Œæˆ‘ä»¬è¦ä¿®æ”¹/ç¼–è¯‘ä»£ç çš„æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²çš„å„ç§æ­£åˆ™è¡¨è¾¾å¼ã€‚ä¾‹å¦‚æˆ‘ä»¬è¦å°† <code>JSON</code> ä¸­ä¸€ä¸ªé”®å <code>foo</code> æ”¹ä¸º <code>bar</code>ï¼Œåªè¦å†™ä¸€ä¸ªç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼å°±èƒ½åšåˆ°ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">jsonStr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">replace</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">/(?&lt;=&quot;)foo(?=&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">\s</span><span style="--shiki-light:#0184BC;--shiki-dark:#D19A66;">*</span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">:)/</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;bar&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>ç¼–è¯‘å°±æ˜¯æŠŠä¸€æ®µå­—ç¬¦ä¸²æ”¹æˆå¦å¤–ä¸€æ®µå­—ç¬¦ä¸²</p></blockquote><h3 id="_6-2-babel" tabindex="-1"><a class="header-anchor" href="#_6-2-babel"><span>6.2 Babel</span></a></h3><blockquote><p><code>JavaScript</code> ç¤¾åŒºå…¶å®æœ‰éå¸¸å¤š <code>parser</code> å®ç°ï¼Œæ¯”å¦‚ <code>Acorn</code>ã€<code>Esprima</code>ã€<code>Recast</code>ã€<code>Traceur</code>ã€<code>Cherow</code> ç­‰ç­‰ã€‚ä½†æˆ‘ä»¬è¿˜æ˜¯é€‰æ‹©ä½¿ç”¨ <code>Babel</code>ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› </p></blockquote><ul><li><code>Babel</code> å¯ä»¥è§£æè¿˜æ²¡æœ‰è¿›å…¥ ECMAScript è§„èŒƒçš„è¯­æ³•ã€‚ä¾‹å¦‚è£…é¥°å™¨è¿™æ ·çš„ææ¡ˆï¼Œè™½ç„¶ç°åœ¨æ²¡æœ‰è¿›å…¥æ ‡å‡†ä½†æ˜¯å·²ç»å¹¿æ³›ä½¿ç”¨æœ‰ä¸€æ®µæ—¶é—´äº†ï¼›</li><li><code>Babel</code> æä¾›æ’ä»¶æœºåˆ¶è§£æ <code>TypeScript</code>ã€<code>Flow</code>ã€<code>JSX </code>è¿™æ ·çš„ <code>JavaScript</code> è¶…é›†ï¼Œä¸å¿…å•ç‹¬å¤„ç†è¿™äº›è¯­è¨€ï¼›</li><li><code>Babel</code> æ‹¥æœ‰åºå¤§çš„ç”Ÿæ€ï¼Œæœ‰éå¸¸å¤šçš„æ–‡æ¡£å’Œæ ·ä¾‹ä»£ç å¯ä¾›å‚è€ƒï¼› é™¤å» <code>parser</code> æœ¬èº«ï¼Œ<code>Babel</code> è¿˜æä¾›å„ç§æ–¹ä¾¿çš„å·¥å…·åº“å¯ä»¥ä¼˜åŒ–ã€ç”Ÿæˆã€è°ƒè¯•ä»£ç â€¦</li></ul><p><strong>Babylonï¼ˆ @babel/parserï¼‰</strong></p><blockquote><p><code>Babylon</code> å°±æ˜¯ <code>Babel</code> çš„ <code>parser</code>ã€‚å®ƒå¯ä»¥æŠŠä¸€æ®µç¬¦åˆè§„èŒƒçš„ JavaScript ä»£ç è¾“å‡ºæˆä¸€ä¸ªç¬¦åˆ Esprima è§„èŒƒçš„ <code>AST</code>ã€‚ å¤§éƒ¨åˆ† <code>parser</code> ç”Ÿæˆçš„ <code>AST</code> æ•°æ®ç»“æ„éƒ½éµå¾ª Esprima è§„èŒƒï¼ŒåŒ…æ‹¬ ESLint çš„ <code>parser</code> ESTreeã€‚è¿™å°±æ„å‘³ç€æˆ‘ä»¬ç†Ÿæ‚‰äº† Esprima è§„èŒƒçš„ <code>AST</code> æ•°æ®ç»“æ„è¿˜èƒ½å»å†™ ESLint æ’ä»¶ã€‚</p></blockquote><p>æˆ‘ä»¬å¯ä»¥å°è¯•è§£æ <code>n * n</code> è¿™å¥ç®€å•çš„è¡¨è¾¾å¼ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#D19A66;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> babylon</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;babylon&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> code</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `n * n`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">babylon</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€ç»ˆ <code>Babylon</code> ä¼šè§£ææˆè¿™æ ·çš„æ•°æ®ç»“æ„ï¼š</p><figure><img src="https://s.poetries.top/gitee/2020/09/250.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <a href="https://astexplorer.net/" target="_blank" rel="noopener noreferrer">ASTExploroer</a> å¿«é€Ÿåœ°æŸ¥çœ‹ä»£ç çš„ <code>AST</code></p></blockquote><p><strong>Babel-traverse (@babel/traverse)</strong></p><blockquote><p><code>babel-traverse</code> å¯ä»¥éå†ç”± Babylon ç”Ÿæˆçš„æŠ½è±¡è¯­æ³•æ ‘ï¼Œå¹¶æŠŠæŠ½è±¡è¯­æ³•æ ‘çš„å„ä¸ªèŠ‚ç‚¹ä»æ‹“æ‰‘æ•°æ®ç»“æ„è½¬åŒ–æˆä¸€é¢—è·¯å¾„ï¼ˆPathï¼‰æ ‘ï¼ŒPath è¡¨ç¤ºä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´è¿æ¥çš„å“åº”å¼ï¼ˆReactiveï¼‰å¯¹è±¡ï¼Œå®ƒæ‹¥æœ‰æ·»åŠ ã€åˆ é™¤ã€æ›¿æ¢èŠ‚ç‚¹ç­‰æ–¹æ³•ã€‚å½“ä½ è°ƒç”¨è¿™äº›ä¿®æ”¹æ ‘çš„æ–¹æ³•ä¹‹åï¼Œè·¯å¾„ä¿¡æ¯ä¹Ÿä¼šè¢«æ›´æ–°ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒPath è¿˜æä¾›äº†ä¸€äº›æ“ä½œä½œç”¨åŸŸï¼ˆScopeï¼‰ å’Œæ ‡è¯†ç¬¦ç»‘å®šï¼ˆIdentifier Bindingï¼‰ çš„æ–¹æ³•å¯ä»¥å»åšå¤„ç†ä¸€äº›æ›´ç²¾ç»†å¤æ‚çš„éœ€æ±‚ã€‚å¯ä»¥è¯´ <code>babel-traverse</code> æ˜¯ä½¿ç”¨ Babel ä½œä¸ºç¼–è¯‘å™¨æœ€æ ¸å¿ƒçš„æ¨¡å—â€¦</p></blockquote><p>è®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹æŠŠä¸€æ®µä»£ç ä¸­çš„ <code>n * n</code> å˜ä¸º <code>x * x</code></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#D19A66;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> babylon</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;@babel/parser&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> traverse</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;babel-traverse&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> code</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `function square(n) {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  return n * n;</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">}`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> ast</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> babylon</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">traverse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ast</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  enter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">      path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Identifier&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">      path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;n&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">      path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;x&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Babel-typesï¼ˆ@babel/typesï¼‰</strong></p><blockquote><p><code>babel-types</code> æ˜¯ä¸€ä¸ªç”¨äº <code>AST</code> èŠ‚ç‚¹çš„ <code>Lodash</code> å¼å·¥å…·åº“ï¼Œå®ƒåŒ…å«äº†æ„é€ ã€éªŒè¯ä»¥åŠå˜æ¢ <code>AST </code>èŠ‚ç‚¹çš„æ–¹æ³•ã€‚ è¯¥å·¥å…·åº“åŒ…å«è€ƒè™‘å‘¨åˆ°çš„å·¥å…·æ–¹æ³•ï¼Œå¯¹ç¼–å†™å¤„ç† <code>AST</code> é€»è¾‘éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚æˆ‘ä»¬ä¹‹å‰åœ¨ <code>babel-traverse</code>ä¸­æ”¹å˜æ ‡è¯†ç¬¦ n çš„ä»£ç å¯ä»¥ç®€å†™ä¸ºï¼š</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> traverse</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;babel-traverse&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#D19A66;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;"> as</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> t</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;babel-types&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">traverse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ast</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  enter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isIdentifier</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;n&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> })) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">      path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;x&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¯ä»¥å‘ç°ä½¿ç”¨ <code>babel-types </code>èƒ½æé«˜æˆ‘ä»¬è½¬æ¢ä»£ç çš„å¯è¯»æ€§ï¼Œåœ¨é…åˆ TypeScript è¿™æ ·çš„é™æ€ç±»å‹è¯­è¨€åï¼Œ<code>babel-types</code> çš„æ–¹æ³•è¿˜èƒ½æä¾›ç±»å‹æ ¡éªŒçš„åŠŸèƒ½ï¼Œèƒ½æœ‰æ•ˆåœ°æé«˜æˆ‘ä»¬è½¬æ¢ä»£ç çš„å¥å£®æ€§å’Œå¯é æ€§â€¦</p></blockquote><h3 id="_6-3-å®è·µä¾‹å­" tabindex="-1"><a class="header-anchor" href="#_6-3-å®è·µä¾‹å­"><span>6.3 å®è·µä¾‹å­</span></a></h3><p>ä»¥ä¸€ä¸ªç®€å• <code>Page</code> é¡µé¢ä¸ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> Taro</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;@tarojs/taro&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;@tarojs/components&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Home</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  config</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    navigationBarTitleText</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;é¦–é¡µ&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    numbers</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  handleClick</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onTest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> oddNumbers</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> number</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ScrollView</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> className</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;home&#39;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> scrollTop</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        å¥‡æ•°ï¼š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">        {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">          oddNumbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        å¶æ•°ï¼š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">        {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">          numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> number</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ScrollView</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-3-1-è®¾è®¡æ€è·¯" tabindex="-1"><a class="header-anchor" href="#_6-3-1-è®¾è®¡æ€è·¯"><span>6.3.1 è®¾è®¡æ€è·¯</span></a></h4><ul><li>Taro çš„ç»“æ„ä¸»è¦åˆ†ä¸¤ä¸ªæ–¹é¢ï¼šè¿è¡Œæ—¶å’Œç¼–è¯‘æ—¶ã€‚è¿è¡Œæ—¶è´Ÿè´£æŠŠç¼–è¯‘ååˆ°ä»£ç è¿è¡Œåœ¨æœ¬ä¸èƒ½è¿è¡Œçš„å¯¹åº”ç¯å¢ƒä¸­ï¼Œä½ å¯ä»¥æŠŠ Taro è¿è¡Œæ—¶ç†è§£ä¸ºå‰ç«¯å¼€å‘å½“ä¸­ <code>polyfill</code>ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå°ç¨‹åºæ–°å»ºä¸€ä¸ªé¡µé¢æ˜¯ä½¿ç”¨ <code>Page</code> æ–¹æ³•ä¼ å…¥ä¸€ä¸ªå­—é¢é‡å¯¹è±¡ï¼Œå¹¶ä¸æ”¯æŒä½¿ç”¨ç±»ã€‚å¦‚æœå…¨éƒ¨ä¾èµ–ç¼–è¯‘æ—¶çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦åšåˆ°äº‹æƒ…å¤§æ¦‚å°±æ˜¯æŠŠç±»è½¬åŒ–æˆå¯¹è±¡ï¼ŒæŠŠ <code>state</code> å˜ä¸º <code>data</code>ï¼ŒæŠŠç”Ÿå‘½å‘¨æœŸä¾‹å¦‚ componentDidMount è½¬åŒ–æˆ <code>onReady</code>ï¼ŒæŠŠäº‹ä»¶ç”±å¯èƒ½çš„ç±»å‡½æ•°ï¼ˆ<code>Class method</code>ï¼‰å’Œç±»å±æ€§å‡½æ•°(<code>Class property function</code>) è½¬åŒ–æˆå­—é¢é‡å¯¹è±¡æ–¹æ³•ï¼ˆObject <code>property function</code>ï¼‰ç­‰ç­‰ã€‚</li><li>ä½†è¿™æ˜¾ç„¶ä¼šè®©æˆ‘ä»¬çš„ç¼–è¯‘æ—¶å·¥ä½œå˜å¾—éå¸¸ç¹é‡ï¼Œåœ¨ä¸€ä¸ªç±»å¼‚å¸¸å¤æ‚æ—¶å‡ºé”™çš„æ¦‚ç‡ä¹Ÿä¼šå˜é«˜ã€‚ä½†æˆ‘ä»¬æœ‰æ›´å¥½çš„åŠæ³•ï¼šå®ç°ä¸€ä¸ª <code>createPage</code> æ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ªç±»ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå°ç¨‹åº <code>Page</code> æ–¹æ³•æ‰€éœ€è¦çš„å­—é¢é‡å¯¹è±¡ã€‚è¿™æ ·ä¸ä»…ç®€åŒ–äº†ç¼–è¯‘æ—¶çš„å·¥ä½œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ <code>createPage</code> å¯¹ç¼–è¯‘æ—¶äº§å‡ºçš„ç±»åšå„ç§æ“ä½œå’Œä¼˜åŒ–ã€‚é€šè¿‡è¿è¡Œæ—¶æŠŠå·¥ä½œåˆ†ç¦»äº†ä¹‹åï¼Œå†ç¼–è¯‘æ—¶æˆ‘ä»¬åªéœ€è¦åœ¨æ–‡ä»¶åº•éƒ¨åŠ ä¸Šä¸€è¡Œä»£ç  <code>Page(createPage(componentName))</code> å³å¯â€¦</li></ul><figure><img src="https://s.poetries.top/gitee/2020/09/251.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>å›åˆ°ä¸€å¼€å§‹é‚£æ®µä»£ç ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç±»å±æ€§ <code>config</code>ï¼Œ<code>config</code> æ˜¯ä¸€ä¸ªå¯¹è±¡è¡¨è¾¾å¼ï¼ˆObject Expressionï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡è¡¨è¾¾å¼åªæ¥å—é”®å€¼ä¸ºæ ‡è¯†ç¬¦ï¼ˆIdentifierï¼‰æˆ–å­—ç¬¦ä¸²ï¼Œè€Œé”®ååªèƒ½æ˜¯åŸºæœ¬ç±»å‹ã€‚è¿™æ ·ç®€å•çš„æƒ…å†µæˆ‘ä»¬åªéœ€è¦æŠŠè¿™ä¸ªå¯¹è±¡è¡¨è¾¾å¼è½¬æ¢ä¸º <code>JSON</code> å³å¯ã€‚å¦å¤–ä¸€ä¸ªç±»å±æ€§ <code>state</code> åœ¨ <code>Page</code> å½“ä¸­æœ‰ç‚¹åƒæ˜¯å°ç¨‹åºçš„ <code>data</code>ï¼Œä½†å®ƒåœ¨å¤šæ•°æƒ…å†µä¸æ˜¯å®Œæ•´çš„ <code>data</code>ã€‚è¿™é‡Œæˆ‘ä»¬ä¸ç”¨åšè¿‡å¤šçš„æ“ä½œï¼Œ<code>babel</code>çš„æ’ä»¶ <code>transform-class-proerties</code> ä¼šæŠŠå®ƒç¼–è¯‘åˆ°ç±»çš„æ„é€ å™¨ä¸­ã€‚å‡½æ•° <code>handleClick</code> æˆ‘ä»¬äº¤ç»™è¿è¡Œæ—¶å¤„ç†ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è·³åˆ° Taro è¿è¡Œæ—¶åŸç†æŸ¥çœ‹å…·ä½“æŠ€æœ¯ç»†èŠ‚ã€‚</li><li>å†æ¥çœ‹æˆ‘ä»¬çš„ <code>render() </code>å‡½æ•°ï¼Œå®ƒçš„ç¬¬ä¸€è¡Œä»£ç é€šè¿‡ <code>filter</code> æŠŠæ•°å­—æ•°ç»„çš„æ‰€æœ‰å¶æ•°é¡¹éƒ½è¿‡æ»¤æ‰ï¼ŒçœŸæ­£ç”¨æ¥å¾ªç¯çš„æ˜¯ <code>oddNumbers</code>ï¼Œè€Œ <code>oddNumbers</code> å¹¶æ²¡æœ‰åœ¨ <code>this.state</code> ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨æŠŠå®ƒåŠ å…¥åˆ° <code>this.state</code>ã€‚å’Œ <code>React ä¸€æ ·ï¼ŒTaro æ¯æ¬¡æ›´æ–°éƒ½ä¼šè°ƒç”¨ render å‡½æ•°ï¼Œä½†å’Œ React ä¸åŒçš„æ˜¯ï¼ŒReact çš„ render</code> æ˜¯ä¸€ä¸ªåˆ›å»ºè™šæ‹Ÿ DOM çš„æ–¹æ³•ï¼Œè€Œ Taro çš„ render ä¼šè¢«é‡å‘½åä¸º <code>_createData</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªåˆ›å»ºæ•°æ®çš„æ–¹æ³•ï¼šåœ¨ <code>JSX</code> ä½¿ç”¨è¿‡çš„æ•°æ®éƒ½åœ¨è¿™é‡Œè¢«åˆ›å»ºæœ€åæ”¾åˆ°å°ç¨‹åº <code>Page</code> æˆ– <code>Component</code> å·¥å‚æ–¹æ³•ä¸­çš„ <code>data </code>ã€‚æœ€ç»ˆæˆ‘ä»¬çš„ <code>render</code> æ–¹æ³•ä¼šè¢«ç¼–è¯‘ä¸ºâ€¦</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">_createData</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> arguments</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">||</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {};</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__props</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> arguments</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">||</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">props</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ||</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> oddNumbers</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">__state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> number</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">assign</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    oddNumbers</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> oddNumbers</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  });</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-3-2-wxml-å’Œ-jsx" tabindex="-1"><a class="header-anchor" href="#_6-3-2-wxml-å’Œ-jsx"><span>6.3.2 WXML å’Œ JSX</span></a></h4><p>åœ¨ Taro é‡Œ <code>render</code> çš„æ‰€æœ‰ <code>JSX</code>å…ƒç´ éƒ½ä¼šåœ¨ JavaScript æ–‡ä»¶ä¸­è¢«ç§»é™¤ï¼Œå®ƒä»¬æœ€ç»ˆå°†ä¼šç¼–è¯‘æˆå°ç¨‹åºçš„ <code>WXML</code>ã€‚æ¯ä¸ª <code>WXML</code> å…ƒç´ å’Œ <code>HTML</code> å…ƒç´ ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå®šä¹‰ä¸ºä¸‰ç§ç±»å‹ï¼š<code>Element</code>ã€<code>Text</code>ã€<code>Comment</code>ã€‚å…¶ä¸­ <code>Text</code> åªæœ‰ä¸€ä¸ªå±æ€§: å†…å®¹ï¼ˆ<code>content</code>ï¼‰ï¼Œå®ƒå¯¹åº”çš„ <code>AST</code> ç±»å‹æ˜¯ <code>JSXText</code>ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å‰æ–‡æºç ä¸­å¯¹åº”å­—ç¬¦ä¸²çš„å¥‡æ•°å’Œå¶æ•°è½¬æ¢æˆ Text å³å¯ã€‚è€Œå¯¹äº <code>Comment </code>è€Œè¨€æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬å…¨éƒ¨æ¸…é™¤ï¼Œä¸å‚ä¸ WXML çš„ç¼–è¯‘ã€‚Element ç±»å‹æœ‰å®ƒçš„åå­—ï¼ˆ<code>tagName</code>ï¼‰ã€<code>children</code>ã€å±æ€§ï¼ˆ<code>attributes</code>ï¼‰ï¼Œå…¶ä¸­ <code>children</code> å¯èƒ½æ˜¯ä»»æ„ <code>WXML</code> ç±»å‹ï¼Œå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé”®å€¼å’Œé”®åéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å°†æŠŠé‡ç‚¹æ”¾åœ¨å¦‚ä½•è½¬æ¢æˆä¸º <code>WXML</code> çš„ <code>Element </code>ç±»å‹ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥å…ˆçœ‹ <code>&lt;View className=&#39;home&#39;&gt;</code>ï¼Œå®ƒåœ¨ <code>AST </code>ä¸­æ˜¯ä¸€ä¸ª <code>JSXElementï¼Œå®ƒçš„ç»“æ„å’Œæˆ‘ä»¬å®šä¹‰ </code>Element <code>ç±»å‹å·®ä¸å¤šã€‚æˆ‘ä»¬å…ˆå°† JSXElement çš„ </code>ScrollView ä»é©¼å³°å¼çš„ JSX å‘½åè½¬åŒ–ä¸ºçŸ­æ¨ªçº¿ï¼ˆkebab caseï¼‰é£æ ¼ï¼ŒclassName å’Œ <code>scrollTop </code>çš„å€¼åˆ†åˆ«ä»£è¡¨äº† <code>JSXAttribute</code> å€¼çš„ä¸¤ç§ç±»å‹ï¼š<code>StringLiteral</code> å’Œ <code>JSXExpressionContainer</code>ï¼Œ<code>className</code> æ˜¯ç®€å•çš„ <code>StringLiteral</code> å¤„ç†èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œ<code>scrollTop</code> å¤„ç†èµ·æ¥ç¨å¾®éº»çƒ¦ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ä¸¤ä¸ªèŠ±æ‹¬å·<code> {}</code> æŠŠå†…å®¹åŒ…èµ·æ¥â€¦</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ€è€ƒä¸€ä¸‹æ¯ä¸€ä¸ª JSXElement å‡ºç°çš„ä½ç½®ï¼Œä½ å¯ä»¥å‘ç°å…¶å®å®ƒçš„çˆ¶å…ƒç´ åªæœ‰å‡ ç§å¯èƒ½æ€§ï¼šreturnã€å¾ªç¯ã€æ¡ä»¶ï¼ˆé€»è¾‘ï¼‰è¡¨è¾¾å¼ã€‚è€Œåœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬æåˆ°ï¼Œbabel-traverse éå†çš„ AST ç±»å‹æ˜¯å“åº”å¼çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´åªè¦æˆ‘ä»¬æŒ‰ç…§ JSXElement çˆ¶å…ƒç´ ç±»å‹çš„é¡ºåºç©·ä¸¾å¤„ç†è¿™å‡ ç§å¯èƒ½æ€§ï¼ŒæŠŠå„ç§å¯èƒ½æ€§å¤§ç»“æœåº”ç”¨åˆ° JSX å…ƒç´ ä¹‹ååˆ é™¤æ‰åŸæ¥çš„è¡¨è¾¾å¼ï¼Œæœ€åå°±å¯ä»¥æŠŠä¸€ä¸ªå¤æ‚çš„ JSX è¡¨è¾¾å¼è½¬æ¢ä¸ºä¸€ä¸ªç®€å•çš„ WXML æ•°æ®ç»“æ„ã€‚â€¦</p><p>æˆ‘ä»¬å…ˆçœ‹ç¬¬ä¸€ä¸ªå¾ªç¯ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">oddNumbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Text çš„çˆ¶å…ƒç´ æ˜¯ä¸€ä¸ª map å‡½æ•°ï¼ˆCallExpressionï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°çš„ callee: oddNumbers ä½œä¸º wx:for çš„å€¼ï¼Œå¹¶æŠŠå®ƒæ”¾åˆ° state ä¸­ï¼ŒåŒ¿åå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ wx:for-itemçš„å€¼ï¼Œå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯ wx:for-index çš„å€¼ï¼Œä½†ä»£ç ä¸­æ²¡æœ‰ä¼ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ç®¡å®ƒã€‚ç„¶åæˆ‘ä»¬æŠŠè¿™ä¸¤ä¸ª wx: å¼€å¤´çš„å‚æ•°ä½œä¸º attribute ä¼ å…¥ Text å…ƒç´ å°±å®Œæˆäº†å¾ªç¯çš„å¤„ç†ã€‚è€Œå¯¹äº onClick è€Œè¨€ï¼Œåœ¨ Taro ä¸­ on å¼€å¤´çš„å…ƒç´ å‚æ•°éƒ½æ˜¯äº‹ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªè¦æŠŠ this. å»æ‰å³å¯ã€‚Text å…ƒç´ çš„ children æ˜¯ä¸€ä¸ª JSXExpressionContainerï¼Œæˆ‘ä»¬æŒ‰ç…§ä¹‹å‰çš„å¤„ç†æ–¹å¼å¤„ç†å³å¯ã€‚æœ€åè¿™è¡Œæˆ‘ä»¬ç”Ÿæˆå‡ºæ¥çš„æ•°æ®ç»“æ„åº”è¯¥æ˜¯è¿™æ ·â€¦</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;element&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  tagName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;text&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  attributes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">bindtap</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;handleClick&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    { </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;wx:for&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{{oddNumbers}}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    { </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;wx:for-item&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;number&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ],</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  children</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;text&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">content</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{{number}}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰äº†è¿™ä¸ªæ•°æ®ç»“æ„ç”Ÿæˆä¸€æ®µ WXML å°±éå¸¸ç®€å•äº†</p><p>å†æ¥çœ‹ç¬¬äºŒä¸ªå¾ªç¯è¡¨è¾¾å¼ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">numbers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">number</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> number</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> %</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">number</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Text</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;)</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®ƒæ¯”ç¬¬ä¸€ä¸ªå¾ªç¯è¡¨è¾¾å¼å¤šäº†ä¸€ä¸ªé€»è¾‘è¡¨è¾¾å¼ï¼ˆLogical Operatorsï¼‰ï¼Œæˆ‘ä»¬çŸ¥é“ expr1 &amp;&amp; expr2 æ„å‘³ç€å¦‚æœ expr1 èƒ½è½¬æ¢æˆ true åˆ™è¿”å› expr2ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªè¦æŠŠ number % 2 === 0 ä½œä¸ºå€¼ç”Ÿæˆä¸€ä¸ªé”®å wx:if çš„ JSXAttribute å³å¯ã€‚ä½†ç”±äº wx:if å’Œ wx:for åŒæ—¶ä½œç”¨äºä¸€ä¸ªå…ƒç´ å¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥ç”Ÿæˆä¸€ä¸ª block å…ƒç´ ï¼ŒæŠŠ wx:if æŒ‚è½½åˆ° block å…ƒç´ ï¼ŒåŸå…ƒç´ åˆ™å…¨éƒ¨ä½œä¸º children ä¼ å…¥ block å…ƒç´ ä¸­ã€‚è¿™æ—¶ babel-traverse ä¼šæ£€æµ‹åˆ°æ–°çš„å…ƒç´  blockï¼Œå®ƒçš„çˆ¶å…ƒç´ æ˜¯ä¸€ä¸ª map å¾ªç¯å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ç¬¬ä¸€ä¸ªå¾ªç¯è¡¨è¾¾å¼çš„å¤„ç†æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªè¡¨è¾¾å¼ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ€è€ƒä¸€ä¸‹ <code>this.props.text || this.props.children</code> çš„è§£å†³æ–¹æ¡ˆã€‚å½“ç”¨æˆ·åœ¨ JSX ä¸­ä½¿ç”¨ || ä½œä¸ºé€»è¾‘è¡¨è¾¾å¼æ—¶å¾ˆå¯èƒ½æ˜¯ this.props.text å’Œ this.props.children éƒ½æœ‰å¯èƒ½ä½œä¸ºç»“æœè¿”å›ã€‚è¿™é‡Œ Taro å°†å®ƒç¼–è¯‘æˆäº† <code>this.props.text ? this.props.text: this.props.children</code>ï¼ŒæŒ‰ç…§æ¡ä»¶è¡¨è¾¾å¼ï¼ˆä¸‰å…ƒè¡¨è¾¾å¼ï¼‰çš„é€»è¾‘ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šç”Ÿæˆä¸¤ä¸ª blockï¼Œä¸€ä¸ª <code>wx:if</code> å’Œä¸€ä¸ª <code>wx:else</code>ï¼š</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">block</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;{{text}}&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;{{text}}&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">block</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">block</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">slot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">slot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">block</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸ƒã€å°ç¨‹åºè¿è¡Œæ—¶" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€å°ç¨‹åºè¿è¡Œæ—¶"><span>ä¸ƒã€å°ç¨‹åºè¿è¡Œæ—¶</span></a></h2><p>ä¸ºäº†ä½¿ <code>Taro</code> ç»„ä»¶è½¬æ¢æˆå°ç¨‹åºç»„ä»¶å¹¶è¿è¡Œåœ¨å°ç¨‹åºç¯å¢ƒä¸‹ï¼Œ <code>Taro</code> ä¸»è¦åšäº†ä¸¤ä¸ªæ–¹é¢çš„å·¥ä½œï¼šç¼–è¯‘ä»¥åŠè¿è¡Œæ—¶é€‚é…ã€‚ç¼–è¯‘è¿‡ç¨‹ä¼šåšå¾ˆå¤šå·¥ä½œï¼Œä¾‹å¦‚ï¼šå°† JSX è½¬æ¢æˆå°ç¨‹åº <code>.wxml</code> æ¨¡æ¿ï¼Œç”Ÿæˆå°ç¨‹åºçš„é…ç½®æ–‡ä»¶ã€é¡µé¢åŠç»„ä»¶çš„ä»£ç ç­‰ç­‰ã€‚ç¼–è¯‘ç”Ÿæˆå¥½çš„ä»£ç ä»ç„¶ä¸èƒ½ç›´æ¥è¿è¡Œåœ¨å°ç¨‹åºç¯å¢ƒé‡Œï¼Œé‚£è¿è¡Œæ—¶åˆæ˜¯å¦‚ä½•ä¸ä¹‹ååŒå·¥ä½œçš„å‘¢ï¼Ÿâ€¦</p><h3 id="_7-1-æ³¨å†Œç¨‹åºã€é¡µé¢ä»¥åŠè‡ªå®šä¹‰ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_7-1-æ³¨å†Œç¨‹åºã€é¡µé¢ä»¥åŠè‡ªå®šä¹‰ç»„ä»¶"><span>7.1 æ³¨å†Œç¨‹åºã€é¡µé¢ä»¥åŠè‡ªå®šä¹‰ç»„ä»¶</span></a></h3><p>åœ¨å°ç¨‹åºä¸­ä¼šåŒºåˆ†ç¨‹åºã€é¡µé¢ä»¥åŠç»„ä»¶ï¼Œé€šè¿‡è°ƒç”¨å¯¹åº”çš„å‡½æ•°ï¼Œå¹¶ä¼ å…¥åŒ…å«ç”Ÿå‘½å‘¨æœŸå›è°ƒã€äº‹ä»¶å¤„ç†å‡½æ•°ç­‰é…ç½®å†…å®¹çš„ object å‚æ•°æ¥è¿›è¡Œæ³¨å†Œï¼š</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  data</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {},</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  methods</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œåœ¨ <code>Taro </code>é‡Œï¼Œå®ƒä»¬éƒ½æ˜¯ä¸€ä¸ªç»„ä»¶ç±»ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> CustomComponent</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { }</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () { }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é‚£ä¹ˆ <code>Taro</code> çš„ç»„ä»¶ç±»æ˜¯å¦‚ä½•è½¬æ¢æˆå°ç¨‹åºçš„ç¨‹åºã€é¡µé¢æˆ–ç»„ä»¶çš„å‘¢ï¼Ÿ</li><li>ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªç»„ä»¶ï¼š<code>customComponent</code>ï¼Œç¼–è¯‘è¿‡ç¨‹ä¼šåœ¨ç»„ä»¶åº•éƒ¨æ·»åŠ ä¸€è¡Œè¿™æ ·çš„ä»£ç ï¼ˆæ­¤å¤„ä»£ç ä½œç¤ºä¾‹ç”¨ï¼Œä¸å®é™…é¡¹ç›®ç”Ÿæˆçš„ä»£ç ä¸å°½ç›¸åŒï¼‰ï¼š</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">createComponent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">customComponent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>createComponent</code> æ–¹æ³•æ˜¯æ•´ä¸ªè¿è¡Œæ—¶çš„å…¥å£ï¼Œåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œä¼šæ ¹æ®ä¼ å…¥çš„ç»„ä»¶ç±»ï¼Œè¿”å›ä¸€ä¸ªç»„ä»¶çš„é…ç½®å¯¹è±¡</li></ul><blockquote><p>åœ¨å°ç¨‹åºé‡Œï¼Œç¨‹åºçš„åŠŸèƒ½åŠé…ç½®ä¸é¡µé¢å’Œç»„ä»¶å·®å¼‚è¾ƒå¤§ï¼Œå› æ­¤è¿è¡Œæ—¶æä¾›äº†ä¸¤ä¸ªæ–¹æ³• <code>createApp</code> å’Œ <code>createComponent</code> æ¥åˆ†åˆ«åˆ›å»ºç¨‹åºå’Œç»„ä»¶ï¼ˆé¡µé¢ï¼‰ã€‚<code>createApp</code> çš„å®ç°éå¸¸ç®€å•</p></blockquote><p><strong>createComponent æ–¹æ³•ä¸»è¦åšäº†è¿™æ ·å‡ ä»¶äº‹æƒ…</strong>ï¼š</p><ul><li>å°†ç»„ä»¶çš„<code>state</code>è½¬æ¢æˆå°ç¨‹åºç»„ä»¶é…ç½®å¯¹è±¡çš„ <code>data</code></li><li>å°†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¯¹åº”åˆ°å°ç¨‹åºç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</li><li>å°†ç»„ä»¶çš„äº‹ä»¶å¤„ç†å‡½æ•°å¯¹åº”åˆ°å°ç¨‹åºçš„äº‹ä»¶å¤„ç†å‡½æ•°</li></ul><h3 id="_7-2-ç»„ä»¶-state-è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#_7-2-ç»„ä»¶-state-è½¬æ¢"><span>7.2 ç»„ä»¶ state è½¬æ¢</span></a></h3><p>å…¶å®åœ¨ Taroï¼ˆReactï¼‰ ç»„ä»¶é‡Œï¼Œé™¤äº†ç»„ä»¶çš„ <code>state</code>ï¼Œ<code>JSX</code> é‡Œè¿˜å¯ä»¥è®¿é—®<code> props</code> ã€<code>render</code> å‡½æ•°é‡Œå®šä¹‰çš„å€¼ã€ä»¥åŠä»»ä½•ä½œç”¨åŸŸä¸Šçš„æˆå‘˜ã€‚è€Œåœ¨å°ç¨‹åºä¸­ï¼Œä¸æ¨¡æ¿ç»‘å®šçš„æ•°æ®å‡æ¥è‡ªå¯¹åº”é¡µé¢ï¼ˆæˆ–ç»„ä»¶ï¼‰çš„ <code>data </code>ã€‚å› æ­¤ <code>JSX</code> æ¨¡æ¿é‡Œè®¿é—®åˆ°çš„æ•°æ®éƒ½ä¼šå¯¹åº”åˆ°å°ç¨‹åºç»„ä»¶çš„ <code>data</code> ä¸Šã€‚æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡åˆ—è¡¨æ¸²æŸ“çš„ä¾‹å­æ¥è¯´æ˜<code>state</code>å’Œ <code>data </code>æ˜¯å¦‚ä½•å¯¹åº”çš„â€¦</p><p><strong>åœ¨ JSX é‡Œè®¿é—® state</strong></p><blockquote><p>åœ¨å°ç¨‹åºçš„ç»„ä»¶ä¸Šä½¿ç”¨ <code>wx:for</code> ç»‘å®šä¸€ä¸ªæ•°ç»„ï¼Œå°±å¯ä»¥å®ç°å¾ªç¯æ¸²æŸ“ã€‚ä¾‹å¦‚ï¼Œåœ¨ Taro é‡Œä½ å¯èƒ½ä¼šè¿™ä¹ˆå†™ï¼š</p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    list</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">        {</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">list</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">item</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;)</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–è¯‘åçš„å°ç¨‹åºç»„ä»¶æ¨¡æ¿ï¼š</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;{{list}}&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">for-item</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;item&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;{{item}}&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ <code>state.list</code> åªéœ€ç›´æ¥å¯¹åº”åˆ°å°ç¨‹åºï¼ˆé¡µé¢ï¼‰ç»„ä»¶çš„ <code>data.list</code> ä¸Šå³å¯â€¦</p><p><strong>åœ¨ render é‡Œç”Ÿæˆäº†æ–°çš„å˜é‡</strong></p><p>ç„¶è€Œäº‹æƒ…é€šå¸¸æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œåœ¨ Taro é‡Œä¹Ÿå¯ä»¥è¿™ä¹ˆç”¨</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  state</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    list</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">        {</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">list</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">item</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;)</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–è¯‘åçš„å°ç¨‹åºç»„ä»¶æ¨¡æ¿æ˜¯è¿™æ ·çš„ï¼š</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;{{$anonymousCallee__1}}&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;">for-item</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;item&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;{{item}}&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åœ¨ç¼–è¯‘æ—¶ä¼šç»™ Taro ç»„ä»¶åˆ›å»ºä¸€ä¸ª <code>_createData </code>çš„æ–¹æ³•ï¼Œé‡Œé¢ä¼šç”Ÿæˆ <code>$anonymousCallee__1</code> è¿™ä¸ªå˜é‡ï¼Œ $<code>anonymousCallee__1</code> æ˜¯ç”±ç¼–è¯‘å™¨ç”Ÿæˆçš„ï¼Œå¯¹ <code>this.state.list</code> è¿›è¡Œç›¸å…³æ“ä½œåçš„å˜é‡ã€‚ <code>$anonymousCallee__1</code> æœ€ç»ˆä¼šè¢«æ”¾åˆ°ç»„ä»¶çš„ data ä¸­ç»™æ¨¡æ¿è°ƒç”¨ï¼š</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> $anonymousCallee__1</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">list</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ++</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>render</code> é‡Œ <code>return </code>ä¹‹å‰çš„æ‰€æœ‰å®šä¹‰å˜é‡æˆ–è€…å¯¹ <code>props</code>ã€<code>state</code> è®¡ç®—äº§ç”Ÿæ–°å˜é‡çš„æ“ä½œï¼Œéƒ½ä¼šè¢«ç¼–è¯‘åˆ° <code>_createData</code> æ–¹æ³•é‡Œæ‰§è¡Œï¼Œè¿™ä¸€ç‚¹åœ¨å‰é¢ JSX ç¼–è¯‘æˆå°ç¨‹åºæ¨¡æ¿çš„ç›¸å…³æ–‡ç« ä¸­å·²ç»æåˆ°ã€‚æ¯å½“ Taro è°ƒç”¨ <code>this.setState</code> API æ¥æ›´æ–°æ•°æ®æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨ç”Ÿæˆçš„ <code>_createData </code>æ¥è·å–æœ€æ–°æ•°æ®â€¦</p></blockquote><h3 id="_7-3-å°†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¯¹åº”åˆ°å°ç¨‹åºç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#_7-3-å°†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¯¹åº”åˆ°å°ç¨‹åºç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ"><span>7.3 å°†ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå¯¹åº”åˆ°å°ç¨‹åºç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</span></a></h3><blockquote><p>åˆå§‹åŒ–è¿‡ç¨‹é‡Œçš„ç”Ÿå‘½å‘¨æœŸå¯¹åº”å¾ˆç®€å•ï¼Œåœ¨å°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°é‡Œè°ƒç”¨ Taro ç»„ä»¶é‡Œå¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°å³å¯ï¼Œä¾‹å¦‚ï¼šå°ç¨‹åºç»„ä»¶ <code>ready</code> çš„å›è°ƒå‡½æ•°é‡Œä¼šè°ƒç”¨ Taro ç»„ä»¶çš„ <code>componentDidMount</code> æ–¹æ³•ã€‚å®ƒä»¬çš„æ‰§è¡Œè¿‡ç¨‹å’Œå¯¹åº”å…³ç³»å¦‚ä¸‹å›¾â€¦</p></blockquote><figure><img src="https://s.poetries.top/gitee/2020/09/252.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>å°ç¨‹åºé¡µé¢çš„<code> componentWillMount</code> æœ‰ä¸€ç‚¹ç‰¹æ®Šï¼Œä¼šæœ‰ä¸¤ç§åˆå§‹åŒ–æ–¹å¼ã€‚ç”±äºå°ç¨‹åºçš„é¡µé¢éœ€è¦ç­‰åˆ° <code>onLoad</code> ä¹‹åæ‰å¯ä»¥è·å–åˆ°é¡µé¢çš„è·¯ç”±å‚æ•°ï¼Œå› æ­¤å¦‚æœæ˜¯å¯åŠ¨é¡µé¢ï¼Œä¼šç­‰åˆ° <code>onLoad</code> æ—¶æ‰ä¼šè§¦å‘ã€‚è€Œå¯¹äºå°ç¨‹åºå†…éƒ¨é€šè¿‡ <code>navigateTo </code>ç­‰ API è·³è½¬çš„é¡µé¢ï¼ŒTaro åšäº†ä¸€ä¸ªå…¼å®¹ï¼Œè°ƒç”¨ <code>navigateTo</code> æ—¶å°†é¡µé¢å‚æ•°å­˜å‚¨åœ¨ä¸€ä¸ªå…¨å±€å¯¹è±¡ä¸­ï¼Œåœ¨é¡µé¢ <code>attached</code> çš„æ—¶å€™ä»å…¨å±€å¯¹è±¡é‡Œå–åˆ°ï¼Œè¿™æ ·å°±ä¸ç”¨ç­‰åˆ°é¡µé¢ <code>onLoad</code> å³å¯è·å–åˆ°è·¯ç”±å‚æ•°ï¼Œè§¦å‘ <code>componentWillMount </code>ç”Ÿå‘½å‘¨æœŸâ€¦</p></blockquote><p><strong>çŠ¶æ€æ›´æ–°</strong></p><figure><img src="https://s.poetries.top/gitee/2020/09/253.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>Taro ç»„ä»¶çš„ <code>setState</code> è¡Œä¸ºæœ€ç»ˆä¼šå¯¹åº”åˆ°å°ç¨‹åºçš„<code> setData</code>ã€‚Taro å¼•å…¥äº†å¦‚ <code>nextTick</code> ï¼Œç¼–è¯‘æ—¶è¯†åˆ«æ¨¡æ¿ä¸­ç”¨åˆ°çš„æ•°æ®ï¼Œåœ¨ setData å‰è¿›è¡Œæ•°æ®å·®å¼‚æ¯”è¾ƒç­‰æ–¹å¼æ¥æé«˜ <code>setState </code>çš„æ€§èƒ½ã€‚</li><li>å¦‚ä¸Šå›¾ï¼Œç»„ä»¶è°ƒç”¨ <code>setState</code> æ–¹æ³•ä¹‹åï¼Œå¹¶ä¸ä¼šç«‹åˆ»æ‰§è¡Œç»„ä»¶æ›´æ–°é€»è¾‘ï¼Œè€Œæ˜¯ä¼šå°†æœ€æ–°çš„ <code>state</code> æš‚å­˜å…¥ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œç­‰ <code>nextTick</code> å›è°ƒæ—¶æ‰ä¼šè®¡ç®—æœ€æ–°çš„ <code>state</code> è¿›è¡Œç»„ä»¶æ›´æ–°ã€‚è¿™æ ·å³ä½¿è¿ç»­å¤šæ¬¡çš„è°ƒç”¨<code>setState</code> å¹¶ä¸ä¼šè§¦å‘å¤šæ¬¡çš„è§†å›¾æ›´æ–°ã€‚åœ¨å°ç¨‹åºä¸­ <code>nextTick</code> æ˜¯è¿™ä¹ˆå®ç°çš„â€¦</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> nextTick</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">fn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  fn</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;"> typeof</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> fn</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;function&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> fn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> fn</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> timerFunc</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">nextTick</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">nextTick</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> setTimeout</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  timerFunc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é™¤äº†è®¡ç®—å‡ºæœ€æ–°çš„ç»„ä»¶ <code>state</code> ï¼Œåœ¨ç»„ä»¶çŠ¶æ€æ›´æ–°è¿‡ç¨‹é‡Œè¿˜ä¼šè°ƒç”¨å‰é¢æåˆ°è¿‡çš„ <code>_createData</code> æ–¹æ³•ï¼Œå¾—åˆ°æœ€ç»ˆå°ç¨‹åºç»„ä»¶çš„ <code>data</code>ï¼Œå¹¶è°ƒç”¨å°ç¨‹åºçš„ <code>setData</code> æ–¹æ³•æ¥è¿›è¡Œç»„ä»¶çš„æ›´æ–°</p></blockquote><h3 id="_7-4-äº‹ä»¶å¤„ç†å‡½æ•°å¯¹åº”" tabindex="-1"><a class="header-anchor" href="#_7-4-äº‹ä»¶å¤„ç†å‡½æ•°å¯¹åº”"><span>7.4 äº‹ä»¶å¤„ç†å‡½æ•°å¯¹åº”</span></a></h3><p>åœ¨å°ç¨‹åºçš„ç»„ä»¶é‡Œï¼Œäº‹ä»¶å“åº”å‡½æ•°éœ€è¦é…ç½®åœ¨ methods å­—æ®µé‡Œã€‚è€Œåœ¨ JSX é‡Œï¼Œäº‹ä»¶æ˜¯è¿™æ ·ç»‘å®šçš„ï¼š</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç¼–è¯‘çš„è¿‡ç¨‹ä¼šå°† JSX è½¬æ¢æˆå°ç¨‹åºæ¨¡æ¿ï¼š</p><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> bindclick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;handleClick&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åœ¨<code> createComponent</code> æ–¹æ³•é‡Œï¼Œä¼šå°†äº‹ä»¶å“åº”å‡½æ•° <code>handleClick</code> æ·»åŠ åˆ° <code>methods</code> å­—æ®µä¸­ï¼Œå¹¶ä¸”åœ¨å“åº”å‡½æ•°é‡Œè°ƒç”¨çœŸæ­£çš„ <code>this.handleClick </code>æ–¹æ³•ã€‚</p><p>åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œä¼šæå–æ¨¡æ¿ä¸­ç»‘å®šè¿‡çš„æ–¹æ³•ï¼Œå¹¶å­˜åˆ°ç»„ä»¶çš„ <code>$events</code> å­—æ®µé‡Œï¼Œè¿™æ ·åœ¨è¿è¡Œæ—¶å°±å¯ä»¥åªå°†ç”¨åˆ°çš„äº‹ä»¶å“åº”å‡½æ•°é…ç½®åˆ°å°ç¨‹åºç»„ä»¶çš„ <code>methods</code> å­—æ®µä¸­ã€‚</p><p>åœ¨è¿è¡Œæ—¶é€šè¿‡ <code>processEvent</code> è¿™ä¸ªæ–¹æ³•æ¥å¤„ç†äº‹ä»¶çš„å¯¹åº”ï¼Œçœç•¥æ‰å¤„ç†è¿‡ç¨‹ï¼Œå°±æ˜¯è¿™æ ·çš„â€¦</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> processEvent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">eventHandlerName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">eventHandlerName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    scope</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">eventHandlerName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">].</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">callScope</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">realArgs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒä½œç”¨å°±æ˜¯è§£æå‡ºäº‹ä»¶å“åº”å‡½æ•°æ‰§è¡Œæ—¶çœŸæ­£çš„ä½œç”¨åŸŸ <code>callScope</code> ä»¥åŠä¼ å…¥çš„å‚æ•°ã€‚åœ¨ <code>JSX </code>é‡Œï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·é€šè¿‡ <code>bind </code>ä¼ å…¥å‚æ•°ï¼š</p></blockquote><div class="language-jsx line-numbers-mode" data-highlighter="shiki" data-ext="jsx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-jsx"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">handleClick</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">arga</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">argb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">View</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>å°ç¨‹åºä¸æ”¯æŒé€šè¿‡ <code>bind</code> çš„æ–¹å¼ä¼ å…¥å‚æ•°ï¼Œä½†æ˜¯å°ç¨‹åºå¯ä»¥ç”¨ <code>data</code> å¼€å¤´çš„æ–¹å¼ï¼Œå°†æ•°æ®ä¼ é€’åˆ° <code>event.currentTarget.dataset</code> ä¸­ã€‚ç¼–è¯‘è¿‡ç¨‹ä¼šå°† <code>bind</code> æ–¹å¼ä¼ é€’çš„å‚æ•°å¯¹åº”åˆ°<code> dataset</code> ä¸­ï¼Œ<code>processEvent</code> å‡½æ•°ä¼šä» <code>dataset</code> é‡Œå–åˆ°ä¼ å…¥çš„å‚æ•°ä¼ ç»™çœŸæ­£çš„äº‹ä»¶å“åº”å‡½æ•°ã€‚</p></blockquote><p>è‡³æ­¤ï¼Œç»è¿‡ç¼–è¯‘ä¹‹åçš„ Taro ç»„ä»¶ç»ˆäºå¯ä»¥è¿è¡Œåœ¨å°ç¨‹åºç¯å¢ƒé‡Œäº†â€¦</p><h3 id="_7-5-å¯¹-api-è¿›è¡Œ-promise-åŒ–çš„å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_7-5-å¯¹-api-è¿›è¡Œ-promise-åŒ–çš„å¤„ç†"><span>7.5 å¯¹ API è¿›è¡Œ Promise åŒ–çš„å¤„ç†</span></a></h3><blockquote><p>Taro å¯¹å°ç¨‹åºçš„æ‰€æœ‰ API è¿›è¡Œäº†ä¸€ä¸ªåˆ†ç±»æ•´ç†ï¼Œå°†å…¶ä¸­çš„å¼‚æ­¥ API åšäº†ä¸€å±‚ <code>Promise </code>åŒ–çš„å°è£…ã€‚ä¾‹å¦‚ï¼Œ<code>wx.getStorage</code>ç»è¿‡ä¸‹é¢çš„å¤„ç†å¯¹åº”åˆ°<code>Taro.getStorage</code>(æ­¤å¤„ä»£ç ä½œç¤ºä¾‹ç”¨ï¼Œä¸å®é™…æºä»£ç ä¸å°½ç›¸åŒ)</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Taro</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;getStorage&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> options</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> obj</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">assign</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({}, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> p</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fail&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;success&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;complete&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">].</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">      obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&amp;&amp;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">k</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">](</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">k</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;success&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">          resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">k</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;fail&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">          reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    })</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    wx</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;getStorage&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">](</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  })</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> p</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°±å¯ä»¥è¿™ä¹ˆè°ƒç”¨äº†ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å°ç¨‹åºçš„è°ƒç”¨æ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Taro</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  key</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;test&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  success</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åœ¨ Taro é‡Œä¹Ÿå¯ä»¥è¿™æ ·è°ƒç”¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Taro</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  key</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;test&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // success</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…«ã€h5-è¿è¡Œæ—¶" tabindex="-1"><a class="header-anchor" href="#å…«ã€h5-è¿è¡Œæ—¶"><span>å…«ã€H5 è¿è¡Œæ—¶</span></a></h2><h3 id="_8-1-h5-è¿è¡Œæ—¶è§£æ" tabindex="-1"><a class="header-anchor" href="#_8-1-h5-è¿è¡Œæ—¶è§£æ"><span>8.1 H5 è¿è¡Œæ—¶è§£æ</span></a></h3><blockquote><p>é¦–å…ˆï¼Œæˆ‘ä»¬é€‰ç”¨<code>Nerv</code>ä½œä¸º <code>Web</code> ç«¯çš„è¿è¡Œæ—¶æ¡†æ¶ã€‚ä½ å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼šåŒæ ·æ˜¯ç±»<code>React</code>æ¡†æ¶ï¼Œä¸ºä½•æˆ‘ä»¬ä¸ç›´æ¥ç”¨<code>React</code>ï¼Œè€Œæ˜¯ç”¨<code>Nerv</code>å‘¢ï¼Ÿ</p></blockquote><p>ä¸ºäº†æ›´å¿«æ›´ç¨³ã€‚å¼€å‘è¿‡ç¨‹ä¸­å‰ç«¯æ¡†æ¶æœ¬èº«æœ‰å¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚å¦‚æœæ˜¯ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œå¾ˆæœ‰å¯èƒ½æ— æ³•å¾—åˆ°åŠæ—¶çš„ä¿®å¤ï¼Œå¯¼è‡´æ•´ä¸ªé¡¹ç›®çš„è¿›åº¦å—å½±å“ã€‚Nervå°±ä¸ä¸€æ ·ã€‚ä½œä¸ºå›¢é˜Ÿè‡ªç ”çš„äº§å“ï¼Œå‡ºç°ä»»ä½•é—®é¢˜æˆ‘ä»¬éƒ½å¯ä»¥åœ¨å›¢é˜Ÿå†…éƒ¨å¿«é€Ÿå¾—åˆ°è§£å†³ã€‚ä¸æ­¤åŒæ—¶ï¼ŒNervä¹Ÿå…·æœ‰ä¸Reactç›¸åŒçš„ APIï¼ŒåŒæ ·ä½¿ç”¨ Virtual DOM æŠ€æœ¯è¿›è¡Œä¼˜åŒ–ï¼Œæ­£å¸¸ä½¿ç”¨ä¸Reactå¹¶æ²¡æœ‰åŒºåˆ«ï¼Œå®Œå…¨å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦ã€‚</p><p>ä½¿ç”¨Taroä¹‹åï¼Œæˆ‘ä»¬ä¹¦å†™çš„æ˜¯ç±»ä¼¼äºä¸‹å›¾çš„ä»£ç â€¦</p><figure><img src="https://s.poetries.top/gitee/2020/09/254.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå°±ç®—æ˜¯è½¬æ¢è¿‡çš„ä»£ç ï¼Œä¹Ÿä¾ç„¶å­˜åœ¨ç€<code>view</code>ã€<code>button</code>ç­‰åœ¨ <code>Web</code> å¼€å‘ä¸­å¹¶ä¸å­˜åœ¨çš„ç»„ä»¶ã€‚å¦‚ä½•åœ¨ <code>Web</code> ç«¯æ­£å¸¸ä½¿ç”¨è¿™äº›ç»„ä»¶ï¼Ÿè¿™æ˜¯æˆ‘ä»¬ç¢°åˆ°çš„ç¬¬ä¸€ä¸ªé—®é¢˜</p></blockquote><h4 id="_8-1-1-ç»„ä»¶å®ç°" tabindex="-1"><a class="header-anchor" href="#_8-1-1-ç»„ä»¶å®ç°"><span>8.1.1 ç»„ä»¶å®ç°</span></a></h4><figure><img src="https://s.poetries.top/gitee/2020/09/255.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä½œä¸ºå¼€å‘è€…ï¼Œä½ ç¬¬ä¸€ååº”æˆ–è®¸ä¼šå°è¯•åœ¨ç¼–è¯‘é˜¶æ®µä¸‹åŠŸå¤«ï¼Œå°è¯•ç›´æ¥ä½¿ç”¨æ•ˆæœç±»ä¼¼çš„ Web ç»„ä»¶æ›¿ä»£ï¼šç”¨<code>div</code>æ›¿ä»£<code>view</code>ï¼Œç”¨<code>img</code>æ›¿ä»£<code>image</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>è´¹åŠ²å¿ƒæœºæå®šæ ‡ç­¾è½¬æ¢ä¹‹åï¼Œä¸Šé¢è¿™ä¸ªå·®å¼‚ä¼¼ä¹æ˜¯è§£å†³äº†ã€‚ä½†å¾ˆå¿«ä½ å°±ä¼šç¢°åˆ°ä¸€äº›æ›´åŠ æ£˜æ‰‹çš„é—®é¢˜ï¼š<code>hover-start-time</code>ã€<code>hover-stay-time</code>ç­‰ç­‰è¿™äº›å¸¸è§„ Web å¼€å‘ä¸­å¹¶ä¸å­˜åœ¨çš„å±æ€§è¦å¦‚ä½•å¤„ç†ï¼Ÿ</p><p>å›é¡¾ä¸€ä¸‹ï¼šåœ¨å‰é¢è®²åˆ°å¤šç«¯è½¬æ¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¯´åˆ°äº†<code>babel</code>ã€‚åœ¨Taroä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>babylon</code>ç”Ÿæˆ <code>AST</code>ï¼Œ<code>babel-traverse</code>å»ä¿®æ”¹å’Œç§»åŠ¨ <code>AST</code> ä¸­çš„èŠ‚ç‚¹ã€‚ä½†babelæ‰€åšçš„å·¥ä½œè¿œè¿œä¸æ­¢è¿™äº›ã€‚</p><p>æˆ‘ä»¬ä¸å¦¨å»<code>babel</code>çš„ <code>playground</code> çœ‹ä¸€çœ‹ä»£ç åœ¨è½¬è¯‘å‰åçš„å¯¹æ¯”ï¼šåœ¨ä½¿ç”¨äº†<code>@babel/preset-env</code>çš„<code>BUILT-INS</code>ä¹‹åï¼Œç®€å•çš„ä¸€å¥æºç <code>new Map()</code>ï¼Œåœ¨<code>babel</code>ç¼–è¯‘åå´å˜æˆäº†å¥½å‡ è¡Œä»£ç â€¦</p><figure><img src="https://s.poetries.top/gitee/2020/09/256.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ³¨æ„çœ‹è¿™å‡ ä¸ªæ–‡ä»¶ï¼š<code>core-js/modules/web.dom.iterable</code>ï¼Œ<code>core-js/modules/es6.array.iterator</code>ï¼Œ<code>core-js/modules/es6.map</code>ã€‚æˆ‘ä»¬å¯ä»¥åœ¨<code>core-js</code>çš„ <code>Git</code> ä»“åº“æ‰¾åˆ°ä»–ä»¬çš„çœŸèº«ã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™å‡ ä¸ªæ¨¡å—å°±æ˜¯å¯¹åº”çš„ es ç‰¹æ€§è¿è¡Œæ—¶çš„å®ç°ã€‚</p><p>ä»æŸç§è§’åº¦ä¸Šè®²ï¼Œæˆ‘ä»¬è¦åšçš„äº‹æƒ…å’Œbabeléå¸¸åƒã€‚babelæŠŠåŸºäºæ–°ç‰ˆ ECMAScript è§„èŒƒçš„ä»£ç è½¬æ¢ä¸ºåŸºäºæ—§ <code>ECMAScript</code> è§„èŒƒçš„ä»£ç ï¼Œè€ŒTaroå¸Œæœ›æŠŠåŸºäºReactè¯­æ³•çš„ä»£ç è½¬æ¢ä¸ºå°ç¨‹åºçš„è¯­æ³•ã€‚æˆ‘ä»¬ä»babelå—åˆ°äº†å¯å‘ï¼šæ—¢ç„¶<code>babel</code>å¯ä»¥é€šè¿‡è¿è¡Œæ—¶æ¡†æ¶æ¥å®ç°æ–°ç‰¹æ€§ï¼Œé‚£æˆ‘ä»¬ä¹ŸåŒæ ·å¯ä»¥é€šè¿‡è¿è¡Œæ—¶ä»£ç ï¼Œå®ç°ä¸Šé¢è¿™äº› Web å¼€å‘ä¸­ä¸å­˜åœ¨çš„åŠŸèƒ½ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ã€‚å¯¹äº<code>view</code>ç»„ä»¶ï¼Œé¦–å…ˆå®ƒæ˜¯ä¸ªæ™®é€šçš„ç±» <code>React</code> ç»„ä»¶ï¼Œå®ƒæŠŠå®ƒçš„å­ç»„ä»¶å¦‚å®å±•ç¤ºå‡ºæ¥â€¦</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> Nerv</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;nervjs&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> View</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Component</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    );</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹<code>hover-start-time</code>åšå¤„ç†ã€‚ä¸Taroå…¶ä»–åœ°æ–¹çš„å‘½åè§„èŒƒä¸€è‡´ï¼Œæˆ‘ä»¬è¿™ä¸ª<code>View</code>ç»„ä»¶æ¥å—çš„å±æ€§åå°†ä¼šæ˜¯é©¼å³°å‘½åæ³•ï¼š<code>hoverStartTime</code>ã€‚<code>hoverStartTime</code>å‚æ•°å†³å®šæˆ‘ä»¬å°†åœ¨<code>View</code>ç»„ä»¶è§¦å‘<code>touch</code>äº‹ä»¶å¤šä¹…åæ”¹å˜ç»„ä»¶çš„æ ·å¼â€¦</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç¤ºä¾‹ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">    hoverStartTime</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">    onTouchStart</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> _onTouchStart</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // @TODO è§¦å‘touchæ ·å¼æ”¹å˜</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">hoverStartTime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    onTouchStart</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> onTouchStart</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onTouchStart</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">_onTouchStart</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">      {</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">children</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  );</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å†ç¨åŠ ä¿®é¥°ï¼Œæˆ‘ä»¬å°±èƒ½å¾—åˆ°ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„<code>Web</code>ç‰ˆ <code>View </code>ç»„ä»¶</p></blockquote><p><code>view</code>å¯ä»¥è¯´æ˜¯å°ç¨‹åºæœ€ç®€å•çš„ç»„ä»¶ä¹‹ä¸€äº†ã€‚<code>text</code>çš„å®ç°ç”šè‡³æ¯”ä¸Šé¢çš„ä»£ç è¿˜è¦ç®€å•å¾—å¤šã€‚ä½†è¿™å¹¶ä¸è¯´æ˜ç»„ä»¶çš„å®ç°ä¹‹è·¯ä¸Šå°±æ²¡æœ‰éšœç¢ã€‚å¤æ‚å¦‚<code>swiper</code>ï¼Œ<code>scroll-view</code>ï¼Œ<code>tabbar</code>ï¼Œæˆ‘ä»¬éœ€è¦èŠ±è´¹å¤§é‡çš„ç²¾åŠ›åˆ†æå°ç¨‹åºåŸç”Ÿç»„ä»¶çš„ <code>API</code>ï¼Œäº¤äº’è¡Œä¸ºï¼Œæç«¯å€¼å¤„ç†ï¼Œæ¥å—çš„å±æ€§ç­‰ç­‰ï¼Œå†é€šè¿‡ Web æŠ€æœ¯å®ç°ã€‚â€¦</p><h3 id="_8-2-api-é€‚é…" tabindex="-1"><a class="header-anchor" href="#_8-2-api-é€‚é…"><span>8.2 API é€‚é…</span></a></h3><blockquote><p>é™¤äº†ç»„ä»¶ï¼Œå°ç¨‹åºä¸‹æœ‰ä¸€äº› API ä¹Ÿæ˜¯ Web å¼€å‘ä¸­æ‰€ä¸å…·å¤‡çš„ã€‚æ¯”å¦‚å°ç¨‹åºæ¡†æ¶å†…ç½®çš„<code>wx.request/wx.getStorage</code>ç­‰ APIï¼›ä½†åœ¨ Web å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯<code>fetch/localStorage</code>ç­‰å†…ç½®çš„å‡½æ•°æˆ–è€…å¯¹è±¡</p></blockquote><figure><img src="https://s.poetries.top/gitee/2020/09/257.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å°ç¨‹åºçš„ API å®ç°æ˜¯ä¸ªå·¨å¤§çš„é»‘ç›’ï¼Œæˆ‘ä»¬ä»…ä»…çŸ¥é“å¦‚ä½•ä½¿ç”¨å®ƒï¼Œä½¿ç”¨å®ƒä¼šå¾—åˆ°ä»€ä¹ˆç»“æœï¼Œä½†å¯¹å®ƒå†…éƒ¨çš„å®ç°ä¸€æ— æ‰€çŸ¥ã€‚</p><p>å¦‚ä½•è®© Web ç«¯ä¹Ÿèƒ½ä½¿ç”¨å°ç¨‹åºæ¡†æ¶ä¸­æä¾›çš„è¿™äº›åŠŸèƒ½ï¼Ÿæ—¢ç„¶å·²ç»çŸ¥é“è¿™ä¸ªé»‘ç›’çš„å…¥å‚å‡ºå‚æƒ…å†µï¼Œé‚£æˆ‘ä»¬è‡ªå·±æ‰“é€ ä¸€ä¸ªé»‘ç›’å°±å¥½äº†ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬ä¾ç„¶é€šè¿‡è¿è¡Œæ—¶æ¡†æ¶æ¥å®ç°è¿™äº› Web ç«¯ä¸å­˜åœ¨çš„èƒ½åŠ›ã€‚</p><p>å…·ä½“è¯´æ¥ï¼Œæˆ‘ä»¬åŒæ ·éœ€è¦åˆ†æå°ç¨‹åºåŸç”Ÿ APIï¼Œæœ€åé€šè¿‡ Web æŠ€æœ¯å®ç°ã€‚æœ‰å…´è¶£å¯ä»¥åœ¨ Git ä»“åº“ä¸­çœ‹åˆ°è¿™äº›åŸç”Ÿ API çš„å®ç°ã€‚ä¸‹é¢ä»¥<code>wx.setStorage</code>ä¸ºä¾‹è¿›è¡Œç®€å•è§£æã€‚</p><p><code>wx.setStorage</code>æ˜¯ä¸€ä¸ªå¼‚æ­¥æ¥å£ï¼Œå¯ä»¥æŠŠ<code>key: value</code>æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ç¼“å­˜ã€‚å¾ˆå®¹æ˜“è”æƒ³åˆ°ï¼Œåœ¨ Web å¼€å‘ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„æ•°æ®å­˜å‚¨æ¦‚å¿µï¼Œè¿™å°±æ˜¯<code>localStorage</code>ã€‚åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„ç›®æ ‡å·²ç»ååˆ†æ˜ç¡®ï¼šæˆ‘ä»¬éœ€è¦å€ŸåŠ©<code>äºlocalStorage</code>ï¼Œå®ç°ä¸€ä¸ªä¸<code>wx.setStorage</code>ç›¸åŒçš„ APIã€‚â€¦</p><blockquote><p>è€Œåœ¨ Web ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å¾€æœ¬åœ°å­˜å‚¨å†™å…¥æ•°æ®ï¼Œä½¿ç”¨çš„ API æ˜¯<code>localStorage.setItem(key, value)</code>ã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“å°±å¯ä»¥æ„æ€å‡ºè¿™ä¸ªå‡½æ•°çš„é›å½¢</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/* ç¤ºä¾‹ä»£ç  */</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  localStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setItem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬é¡ºæ‰‹åšç‚¹ä¼˜åŒ–ï¼ŒæŠŠåŸºäºå¼‚æ­¥å›è°ƒçš„ API éƒ½ç»™åšäº†ä¸€å±‚ Promise åŒ…è£…ï¼Œè¿™å¯ä»¥è®©ä»£ç çš„æµç¨‹å¤„ç†æ›´åŠ æ–¹ä¾¿ã€‚æ‰€ä»¥è¿™æ®µä»£ç çœ‹èµ·æ¥ä¼šåƒä¸‹é¢è¿™æ ·ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/* ç¤ºä¾‹ä»£ç  */</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  localStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setItem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">errMsg</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;setStorage:ok&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹èµ·æ¥å¾ˆå®Œç¾ï¼Œä½†å¼€å‘çš„é“è·¯ä¸ä¼šå¦‚æ­¤å¹³å¦ã€‚æˆ‘ä»¬è¿˜éœ€è¦å¤„ç†å…¶ä½™çš„å…¥å‚ï¼šsuccessã€failå’Œcompleteã€‚successå›è°ƒä¼šåœ¨æ“ä½œæˆåŠŸå®Œæˆæ—¶è°ƒç”¨ï¼Œfailä¼šåœ¨æ“ä½œå¤±è´¥çš„æ—¶å€™æ‰§è¡Œï¼Œcompleteåˆ™æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œã€‚setStorageå‡½æ•°åªä¼šåœ¨keyå€¼æ˜¯Stringç±»å‹æ—¶æœ‰æ­£ç¡®çš„è¡Œä¸ºï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ºè¿™ä¸ªå‡½æ•°æ·»åŠ äº†ä¸€ä¸ªç®€å•çš„ç±»å‹åˆ¤æ–­ï¼Œå¹¶åœ¨å¼‚å¸¸æƒ…å†µä¸‹æ‰§è¡Œfailå›è°ƒã€‚ç»è¿‡è¿™è½®å˜åŠ¨ï¼Œè¿™æ®µä»£ç çœ‹èµ·æ¥ä¼šåƒä¸‹é¢è¿™æ ·â€¦</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/* ç¤ºä¾‹ä»£ç  */</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">success</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">fail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">complete</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> res</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">errMsg</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;setStorage:ok&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">typeof</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;string&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    localStorage</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setItem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    success</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> success</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    fail</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> fail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  complete</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &amp;&amp;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> complete</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">res</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">errMsg</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;setStorage:ok&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> });</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠŠè¿™ä¸ª API å®ç°æŒ‚è½½åˆ°Taroæ¨¡å—ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>Taro.setStorage</code>æ¥è°ƒç”¨è¿™ä¸ª API äº†ã€‚</p><p>å½“ç„¶ï¼Œä¹Ÿæœ‰ä¸€äº› API æ˜¯ Web ç«¯æ— è®ºå¦‚ä½•æ— æ³•å®ç°çš„ï¼Œæ¯”å¦‚<code>wx.login</code>ï¼Œåˆæˆ–è€…<code>wx.scanCode</code>ã€‚æˆ‘ä»¬ç»´æŠ¤äº†ä¸€ä¸ª API å®ç°æƒ…å†µçš„åˆ—è¡¨ï¼Œåœ¨å®é™…çš„å¤šç«¯é¡¹ç›®å¼€å‘ä¸­åº”è¯¥å°½å¯èƒ½é¿å…ä½¿ç”¨å®ƒä»¬â€¦</p><h3 id="_8-3-è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_8-3-è·¯ç”±"><span>8.3 è·¯ç”±</span></a></h3><blockquote><p>ä½œä¸ºå°ç¨‹åºçš„ä¸€å¤§èƒ½åŠ›ï¼Œå°ç¨‹åºæ¡†æ¶ä¸­ä»¥æ ˆçš„å½¢å¼ç»´æŠ¤äº†å½“å‰æ‰€æœ‰çš„é¡µé¢ï¼Œç”±æ¡†æ¶ç»Ÿä¸€ç®¡ç†ã€‚ç”¨æˆ·åªéœ€è¦è°ƒç”¨<code>wx.navigateTo</code>,<code>wx.navigateBack</code>,<code>wx.redirectTo</code>ç­‰å®˜æ–¹ APIï¼Œå°±å¯ä»¥å®ç°é¡µé¢çš„è·³è½¬ã€å›é€€ã€é‡å®šå‘ï¼Œè€Œä¸éœ€è¦å…³å¿ƒé¡µé¢æ ˆçš„ç»†èŠ‚ã€‚ä½†æ˜¯ä½œä¸ºå¤šç«¯é¡¹ç›®ï¼Œå½“æˆ‘ä»¬â€¦</p></blockquote><p>å°ç¨‹åºçš„è·¯ç”±æ¯”è¾ƒè½»é‡ã€‚ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬å…ˆé€šè¿‡<code>app.json</code>ä¸ºå°ç¨‹åºé…ç½®é¡µé¢åˆ—è¡¨ï¼š</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;pages&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &quot;pages/index/index&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &quot;pages/logs/logs&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ],</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>åœ¨è¿è¡Œæ—¶ï¼Œå°ç¨‹åºå†…ç»´æŠ¤äº†ä¸€ä¸ªé¡µé¢æ ˆï¼Œå§‹ç»ˆå±•ç¤ºæ ˆé¡¶çš„é¡µé¢ï¼ˆ<code>Page</code>å¯¹è±¡ï¼‰ã€‚å½“ç”¨æˆ·è¿›è¡Œè·³è½¬ã€åé€€ç­‰æ“ä½œæ—¶ï¼Œç›¸åº”çš„ä¼šä½¿é¡µé¢æ ˆè¿›è¡Œå…¥æ ˆã€å‡ºæ ˆç­‰æ“ä½œ</p></blockquote><p>åŒæ—¶ï¼Œåœ¨é¡µé¢æ ˆå‘ç”Ÿè·¯ç”±å˜åŒ–æ—¶ï¼Œè¿˜ä¼šè§¦å‘ç›¸åº”é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸ</p><p><strong>å¯¹äº Web ç«¯å•é¡µåº”ç”¨è·¯ç”±ï¼Œæˆ‘ä»¬åˆ™ä»¥react-routerä¸ºä¾‹è¿›è¡Œè¯´æ˜</strong></p><ul><li>é¦–å…ˆï¼Œ<code>react-router</code>å¼€å§‹é€šè¿‡<code>history</code>å·¥å…·ç›‘å¬é¡µé¢è·¯å¾„çš„å˜åŒ–ã€‚</li><li>åœ¨é¡µé¢è·¯å¾„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ<code>react-router</code>ä¼šæ ¹æ®æ–°çš„<code>location</code>å¯¹è±¡ï¼Œè§¦å‘ UI å±‚çš„æ›´æ–°ã€‚</li><li>è‡³äº UI å±‚å¦‚ä½•æ›´æ–°ï¼Œåˆ™æ˜¯å–å†³äºæˆ‘ä»¬åœ¨Routeç»„ä»¶ä¸­å¯¹é¡µé¢è·¯å¾„å’Œç»„ä»¶çš„ç»‘å®šï¼Œç”šè‡³å¯ä»¥å®ç°åµŒå¥—è·¯ç”±ã€‚</li><li>å¯ä»¥è¯´ï¼Œ<code>react-router</code>çš„è·¯ç”±æ–¹æ¡ˆæ˜¯ç»„ä»¶çº§åˆ«çš„ã€‚</li><li>å…·ä½“åˆ°<code>Taro</code>ï¼Œä¸ºäº†ä¿æŒè·Ÿå°ç¨‹åºçš„è¡Œä¸ºä¸€è‡´ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç»†è‡´åˆ°ç»„ä»¶çº§åˆ«çš„è·¯ç”±æ–¹æ¡ˆï¼Œä½†éœ€è¦ä¸ºæ¯æ¬¡è·¯ç”±ä¿å­˜å®Œæ•´çš„é¡µé¢æ ˆã€‚</li><li>å®ç°å½¢å¼ä¸Šï¼Œæˆ‘ä»¬å‚è€ƒ<code>react-router</code>ï¼šç›‘å¬é¡µé¢è·¯å¾„å˜åŒ–ï¼Œå†è§¦å‘<code> UI</code> æ›´æ–°ã€‚è¿™æ˜¯<code>React</code>çš„ç²¾é«“ä¹‹ä¸€ï¼Œå•å‘æ•°æ®æµâ€¦</li></ul><figure><img src="https://s.poetries.top/gitee/2020/09/258.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p><code>@tarojs/router</code>åŒ…ä¸­åŒ…å«äº†ä¸€ä¸ªè½»é‡çš„<code>history</code>å®ç°ã€‚<code>history</code>ä¸­ç»´æŠ¤äº†ä¸€ä¸ªæ ˆï¼Œç”¨æ¥è®°å½•é¡µé¢å†å²çš„å˜åŒ–ã€‚å¯¹å†å²è®°å½•çš„ç›‘å¬ï¼Œä¾èµ–ä¸¤ä¸ªäº‹ä»¶ï¼š<code>hashchange</code>å’Œ<code>popstate</code>ã€‚</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/* ç¤ºä¾‹ä»£ç  */</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;hashchange&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {});</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;popstate&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹äºä½¿ç”¨ <code>Hash </code>æ¨¡å¼çš„é¡µé¢è·¯ç”±ï¼Œæ¯æ¬¡é¡µé¢è·³è½¬éƒ½ä¼šä¾æ¬¡è§¦å‘<code>popstate</code>å’Œ<code>hashchange</code>äº‹ä»¶ã€‚ç”±äºåœ¨<code>popstate</code>çš„å›è°ƒä¸­å¯ä»¥å–åˆ°å½“å‰é¡µé¢çš„ <code>state</code>ï¼Œæˆ‘ä»¬é€‰æ‹©å®ƒä½œä¸ºä¸»è¦è·³è½¬é€»è¾‘çš„å®¹å™¨ã€‚</li><li>ä½œä¸º UI å±‚ï¼Œ<code>@tarojs/router</code>åŒ…æä¾›äº†ä¸€ä¸ª<code>Router</code>ç»„ä»¶ï¼Œç»´æŠ¤é¡µé¢æ ˆã€‚ä¸å°ç¨‹åºç±»ä¼¼ï¼Œç”¨æˆ·ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨<code>Router</code>ç»„ä»¶ï¼Œè€Œæ˜¯ç”±Taroè‡ªåŠ¨å¤„ç†ã€‚</li><li>å¯¹äºå†å²æ ˆæ¥è¯´ï¼Œæ— éå°±æ˜¯ä¸‰ç§æ“ä½œï¼š<code>push</code>, <code>pop</code>ï¼Œè¿˜æœ‰<code>replace</code>ã€‚åœ¨å†å²æ ˆå˜åŠ¨æ—¶è§¦å‘<code>Router</code>çš„å›è°ƒï¼Œå°±å¯ä»¥è®©<code>Router</code>ä¹ŸåŒæ­¥å˜åŒ–ã€‚è¿™å°±æ˜¯Taroä¸­è·¯ç”±çš„åŸºæœ¬åŸç†â€¦</li></ul><h3 id="_8-4-redux-å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_8-4-redux-å¤„ç†"><span>8.4 Redux å¤„ç†</span></a></h3><ul><li>æ¯å½“æåˆ°Reactçš„æ•°æ®æµï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸æåˆ°Reduxã€‚é€šè¿‡åˆå¹¶Reducerï¼ŒReduxå¯ä»¥è®©å¤§å‹åº”ç”¨ä¸­çš„æ•°æ®æµæ›´åŠ è§„åˆ™ã€å¯é¢„æµ‹ã€‚</li><li>æˆ‘ä»¬åœ¨Taroä¸­åŠ å…¥äº†Reduxçš„æ”¯æŒï¼Œé€šè¿‡å¯¼å…¥<code>@tarojs/redux</code>ï¼Œå³å¯åœ¨å°ç¨‹åºç«¯ä½¿ç”¨Reduxçš„åŠŸèƒ½ã€‚</li><li>å¯¹äº Web ç«¯ï¼Œæˆ‘ä»¬å°è¯•ç›´æ¥ä½¿ç”¨<code>nerv-redux</code>åŒ…æä¾›æ”¯æŒï¼Œä½†è¿™ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜â€¦</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> Nerv</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;nervjs&#39;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;nerv-redux&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">connect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {})</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Index</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> extends</span><span style="--shiki-light:#50A14F;--shiki-dark:#E5C07B;"> Nerv</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Componnet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  componentDidShow</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() { </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;didShow&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) }</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  componentDidMount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() { </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;didMount&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) }</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  render</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() { </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>å›æƒ³ä¸€ä¸‹å‰é¢è®²çš„<code>componentDidShow</code>çš„å®ç°ï¼šæˆ‘ä»¬ç»§æ‰¿ï¼Œå¹¶ä¸”æ”¹å†™ <code>componentDidMount</code>ã€‚</p></li><li><p>ä½†æ˜¯å¯¹äºä½¿ç”¨Reduxçš„é¡µé¢æ¥è¯´ï¼Œæˆ‘ä»¬ç»§æ‰¿çš„ç±»ï¼Œæ˜¯ç»è¿‡<code>@connect</code>ä¿®é¥°è¿‡çš„ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ã€‚</p></li><li><p>é—®é¢˜å°±å‡ºåœ¨è¿™é‡Œï¼šè¿™ä¸ªé«˜é˜¶ç»„ä»¶çš„ç­¾åé‡Œå¹¶æ²¡æœ‰<code>componentDidShow</code>è¿™ä¸€ä¸ªå‡½æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬çš„ <code>componentDidMount</code> å†…ï¼Œç†æ‰€å½“ç„¶æ˜¯å–ä¸åˆ°<code>componentDidShow</code>çš„ã€‚</p></li><li><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯¹<code>react-redux</code>ä»£ç è¿›è¡Œäº†ä¸€äº›å°æ”¹è£…ï¼Œè¿™å°±æ˜¯<code>@taro/redux-h5</code>çš„ç”±æ¥â€¦</p></li><li><p><a href="https://nervjs.github.io/taro/docs/GETTING-STARTED.html" target="_blank" rel="noopener noreferrer">Taroå®˜æ–¹æ–‡æ¡£</a></p></li></ul></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/yjieyan/knowledge/edit/main/src/guide/è·¨ç«¯ä¸ç§»åŠ¨ç«¯/è·¨ç«¯/TaroåŸç†.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">æœ€è¿‘æ›´æ–°</span><time class="vp-meta-info" datetime="2025-10-19T15:34:32.000Z" data-allow-mismatch>2025/10/19 15:34</time></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 2192242196@qq.com">yjy</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2025 yjieyan </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/knowledge/assets/app-B8OghdsB.js" defer></script>
  </body>
</html>
