import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,a as n,o as r}from"./app-CkYRVb8S.js";const s={};function a(l,e){return r(),o("div",null,[...e[0]||(e[0]=[n('<h1 id="webpack5新特性" tabindex="-1"><a class="header-anchor" href="#webpack5新特性"><span>Webpack5新特性</span></a></h1><p>Webpack 5 带来了一系列显著升级，核心目标是<strong>提升构建性能、优化应用体积和缓存效率，并引入模块联邦等创新特性</strong>。</p><table><thead><tr><th style="text-align:left;">核心升级方向</th><th style="text-align:left;">主要升级内容</th></tr></thead><tbody><tr><td style="text-align:left;">⚡ <strong>构建性能提升</strong></td><td style="text-align:left;">持久性缓存，更优的 Tree Shaking，Node.js Polyfills 默认移除</td></tr><tr><td style="text-align:left;">💾 <strong>长期缓存优化</strong></td><td style="text-align:left;">确定的 Chunk/模块/导出 ID，内容哈希算法改进</td></tr><tr><td style="text-align:left;">🔗 <strong>模块联邦</strong></td><td style="text-align:left;">支持跨应用动态共享代码与依赖</td></tr><tr><td style="text-align:left;">🛠 <strong>资源与构建优化</strong></td><td style="text-align:left;">内置资源模块（Asset Modules），改进代码分割，支持更现代的 Web 特性</td></tr></tbody></table><h3 id="⚡-构建性能提升" tabindex="-1"><a class="header-anchor" href="#⚡-构建性能提升"><span>⚡ 构建性能提升</span></a></h3><ul><li><p><strong>持久性缓存</strong>：Webpack 5 引入了<strong>持久性缓存</strong>来提升构建速度。通过配置 <code>cache: { type: &#39;filesystem&#39; }</code>，Webpack 可以将构建过程中的模块依赖关系等缓存到磁盘。这意味着在二次构建时，会直接使用缓存，<strong>大幅减少冷启动时间</strong>。你不再需要像 Webpack 4 那样频繁使用 <code>cache-loader</code>。</p></li><li><p><strong>更优的 Tree Shaking</strong>：Webpack 5 的 <strong>Tree Shaking</strong> 功能（用于移除未引用代码）更强大。它能：</p><ul><li>分析模块中<strong>嵌套的导出</strong>关系，并移除未使用的导出代码。例如，即使未使用的代码被多层嵌套引用，Webpack 5 也能更好地将其识别并移除。</li><li>通过 <code>optimization.innerGraph</code> 分析模块内部的依赖关系，标记并移除未被使用的导出。</li><li>增强了对 <strong>CommonJS</strong> 和 <strong>ES Module</strong> 混合使用场景的 Tree Shaking 能力。</li></ul></li><li><p><strong>默认不再提供 Node.js Polyfills</strong>：在 Webpack 5 中，<strong>不再自动注入 Node.js 核心模块（如 <code>crypto</code>、<code>path</code>）的 polyfills</strong>。这有助于<strong>减小打包体积</strong>。如果你的前端代码或依赖的第三方库使用了这些模块，需要<strong>手动安装并配置相应的 polyfill（如 <code>buffer</code>、<code>process</code>）</strong>。</p></li></ul><h3 id="💾-长期缓存优化" tabindex="-1"><a class="header-anchor" href="#💾-长期缓存优化"><span>💾 长期缓存优化</span></a></h3><ul><li><p><strong>确定的 Chunk、模块和导出 ID</strong>：Webpack 5 在生产模式下，默认启用<strong>确定的 Chunk ID、模块 ID 和导出名称</strong>。它采用新的 ID 确定算法，确保在不同构建中，相同模块的 ID 保持一致。这对于<strong>长期缓存</strong>非常有利，因为只有发生实际变更的文件其文件名会改变，浏览器可以继续使用未变更文件的缓存。</p></li><li><p><strong>内容哈希算法改进</strong>：Webpack 5 将 <code>hash</code> 重命名为 <code>fullhash</code>，并统一使用 <code>[contenthash]</code>。其改进在于，<strong>仅当模块的内容发生实质性改变时，<code>[contenthash]</code> 才会变化</strong>。例如，修改代码注释在 Webpack 4 中可能导致 <code>contenthash</code> 变化，而在 Webpack 5 中则不会，这进一步优化了缓存策略。</p></li></ul><h3 id="🔗-模块联邦" tabindex="-1"><a class="header-anchor" href="#🔗-模块联邦"><span>🔗 模块联邦</span></a></h3><p>Webpack 5 引入了<strong>模块联邦（Module Federation）</strong>，这是一个支持<strong>在运行时动态从不同的 Webpack 构建中加载代码</strong>的特性。通过 <code>ModuleFederationPlugin</code> 配置，它可以：</p><ul><li>实现<strong>微前端</strong>架构，允许多个独立构建的应用共享组件或库。</li><li>作为 <strong>Host</strong> 的应用可以消费作为 <strong>Remote</strong> 的应用暴露出的模块。</li><li>支持<strong>共享依赖库</strong>，避免多个应用重复加载相同库。</li></ul><h3 id="🛠-资源与构建优化" tabindex="-1"><a class="header-anchor" href="#🛠-资源与构建优化"><span>🛠 资源与构建优化</span></a></h3><ul><li><p><strong>内置资源模块（Asset Modules）</strong>：Webpack 5 内置了<strong>资源模块</strong>（Asset Modules），用于替代 <code>raw-loader</code>、<code>url-loader</code> 和 <code>file-loader</code>。你可以通过设置 <code>type: &#39;asset/resource&#39;</code> 等来处理图片、字体等静态资源，简化配置。</p></li><li><p><strong>改进代码分割</strong>：Webpack 5 改进了代码分割功能，使得代码分割更加灵活和自动化。例如，现在可以根据代码的运行时特征来自动切割代码块。</p></li><li><p><strong>支持现代 Web 特性</strong>：</p><ul><li><strong>原生 Web Worker 支持</strong>：支持 <code>new Worker(new URL(&quot;./worker.js&quot;, import.meta.url))</code> 这种浏览器原生支持的语法。</li><li><strong>顶层 Await (Top-Level Await)</strong>：支持在模块的顶层使用 <code>await</code>。</li><li><strong>增强的 JSON 模块</strong>：支持更优化的 JSON 模块 Tree Shaking。</li></ul></li></ul><h3 id="⚠️-升级注意事项" tabindex="-1"><a class="header-anchor" href="#⚠️-升级注意事项"><span>⚠️ 升级注意事项</span></a></h3><ul><li><strong>Node.js 版本要求</strong>：Webpack 5 要求 <strong>Node.js 版本至少为 10.13.0</strong>（建议使用更高版本，如 Node.js 12 LTS 以上）。</li><li><strong>移除的 Polyfills</strong>：如前所述，注意处理 Node.js 核心模块的 polyfill。</li><li><strong>废弃的 API</strong>：Webpack 5 清除了一些在 v4 中标记为废弃的功能，例如 <code>require.include</code> 语法已被废弃。</li><li><strong>配置调整</strong>：部分配置项默认值或名称有变化，例如 <code>cache</code> 配置，<code>optimization.chunkIds</code> 和 <code>optimization.moduleIds</code> 在生产模式下默认使用 <code>&#39;deterministic&#39;</code>。</li></ul><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><p>Webpack 5 通过持久性缓存和改进的算法显著提升了构建性能，通过确定的ID和内容哈希优化了长期缓存机制，并带来了模块联邦这一创新特性。升级时，请务必仔细阅读官方迁移指南，并进行充分测试。</p>',16)])])}const d=t(s,[["render",a]]),p=JSON.parse(`{"path":"/guide/source-code/Webpack5%E6%96%B0%E7%89%B9%E6%80%A7.html","title":"Webpack5新特性","lang":"zh-CN","frontmatter":{"description":"Webpack5新特性 Webpack 5 带来了一系列显著升级，核心目标是提升构建性能、优化应用体积和缓存效率，并引入模块联邦等创新特性。 ⚡ 构建性能提升 持久性缓存：Webpack 5 引入了持久性缓存来提升构建速度。通过配置 cache: { type: 'filesystem' }，Webpack 可以将构建过程中的模块依赖关系等缓存到磁盘。...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Webpack5新特性\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-11-06T01:35:29.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yjieyan\\",\\"url\\":\\"https://yjieyan.github.io/knowledge\\"}]}"],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/knowledge/guide/source-code/Webpack5%E6%96%B0%E7%89%B9%E6%80%A7.html"}],["meta",{"property":"og:site_name","content":"开卷有益"}],["meta",{"property":"og:title","content":"Webpack5新特性"}],["meta",{"property":"og:description","content":"Webpack5新特性 Webpack 5 带来了一系列显著升级，核心目标是提升构建性能、优化应用体积和缓存效率，并引入模块联邦等创新特性。 ⚡ 构建性能提升 持久性缓存：Webpack 5 引入了持久性缓存来提升构建速度。通过配置 cache: { type: 'filesystem' }，Webpack 可以将构建过程中的模块依赖关系等缓存到磁盘。..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-06T01:35:29.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-06T01:35:29.000Z"}]]},"git":{"createdTime":1762392929000,"updatedTime":1762392929000,"contributors":[{"name":"yjieyan","username":"yjieyan","email":"2192242196@qq.com","commits":1,"url":"https://github.com/yjieyan"}]},"readingTime":{"minutes":3.89,"words":1167},"filePathRelative":"guide/source-code/Webpack5新特性.md","autoDesc":true}`);export{d as comp,p as data};
